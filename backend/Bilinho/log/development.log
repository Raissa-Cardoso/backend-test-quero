  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "Bilinho_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "Bilinho_test" ENCODING = 'unicode'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStudents (20221210192056)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "cpf" character varying, "birthdate" date, "payment_method" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (6.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (43.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Bilinho_development"[0m
  [1m[35m (44.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Bilinho_test"[0m
  [1m[35m (438.4ms)[0m  [1m[35mCREATE DATABASE "Bilinho_development" ENCODING = 'unicode'[0m
  [1m[35m (207.1ms)[0m  [1m[35mCREATE DATABASE "Bilinho_test" ENCODING = 'unicode'[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStudents (20221210192056)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "cpf" character varying, "birthdate" date, "payment_method" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192056"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEnrollments (20221210192216)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "enrollments" ("id" bigserial primary key, "amount" integer, "installments" integer, "due_day" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192216"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBills (20221210192253)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "bills" ("id" bigserial primary key, "amount" integer, "due_date" date, "status" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192253"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-10 19:28:52.977953"], ["updated_at", "2022-12-10 19:28:52.977953"]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNull (20221210192905)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "name" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "cpf" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "payment_method" SET NOT NULL[0m
  [1m[35m (6.4ms)[0m  [1m[35mALTER TABLE "enrollment" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNull (20221210192905)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "name" SET NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "cpf" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "payment_method" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "installments" SET NOT NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "due_date" SET NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNull (20221210192905)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "name" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "cpf" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "payment_method" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "installments" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "due_day" SET NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "due_date" SET NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "status" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192905"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDefaultStatus (20221210193647)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "status" SET DEFAULT 'open'[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210193647"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumns (20221210194140)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210194140"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumns (20221210194140)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bills" DROP COLUMN "enrollment_id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumns (20221210194635)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ADD "student_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bills" ADD "enrollment_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210194635"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddForeignKey (20221210194730)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "enrollments" ADD CONSTRAINT "fk_rails_f01c555e06"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "bills" ADD CONSTRAINT "fk_rails_889f0f97f7"
FOREIGN KEY ("enrollment_id")
  REFERENCES "enrollments" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210194730"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2022-12-10 17:07:32 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/raissacardoso/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/raissacardoso/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.1ms | Allocations: 932)
Completed 200 OK in 20ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 7829)


Started POST "/students" for ::1 at 2022-12-10 17:09:24 -0300
Processing by StudentsController#create as */*
  Parameters: {"student_name"=>"Carlos", "cpf"=>"12378945678", "birth_date"=>"1988-05-18", "cell_phone"=>14545, "gender"=>"M", "payment_methods"=>"Cartão", "student"=>{"cpf"=>"12378945678"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 37ms (Views: 15.9ms | ActiveRecord: 4.4ms | Allocations: 22981)


Started POST "/students" for ::1 at 2022-12-10 17:10:23 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"Maria", "cpf"=>"12378945678", "birth_date"=>"1988-05-18", "payment_methods"=>"credit_card", "student"=>{"name"=>"Maria", "cpf"=>"12378945678"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 12ms (Views: 1.2ms | ActiveRecord: 3.9ms | Allocations: 2847)


Started POST "/students" for ::1 at 2022-12-10 17:10:31 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"Maria", "cpf"=>"12378945678", "birth_date"=>"1988-05-18", "payment_method"=>"credit_card", "student"=>{"name"=>"Maria", "cpf"=>"12378945678", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Create (0.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Maria"], ["cpf", "12378945678"], ["birthdate", nil], ["payment_method", "credit_card"], ["created_at", "2022-12-10 20:10:31.195305"], ["updated_at", "2022-12-10 20:10:31.195305"]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 201 Created in 19ms (Views: 0.7ms | ActiveRecord: 1.8ms | Allocations: 3595)


Started POST "/students" for ::1 at 2022-12-10 17:10:56 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945678", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card", "student"=>{"name"=>"João", "cpf"=>"12378945678", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 8ms (Views: 0.7ms | ActiveRecord: 1.2ms | Allocations: 2530)


Started POST "/students" for ::1 at 2022-12-10 17:11:01 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"1237894567", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card", "student"=>{"name"=>"João", "cpf"=>"1237894567", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "1237894567"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 9ms (Views: 0.8ms | ActiveRecord: 3.5ms | Allocations: 2506)


Started POST "/students" for ::1 at 2022-12-10 17:11:15 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"", "student"=>{"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>""}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945679"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 7ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 2734)


Started POST "/students" for ::1 at 2022-12-10 17:11:22 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945679"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "João"], ["cpf", "12378945679"], ["birthdate", "1988-05-18"], ["payment_method", "boleto"], ["created_at", "2022-12-10 20:11:22.514488"], ["updated_at", "2022-12-10 20:11:22.514488"]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 201 Created in 9ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 2985)


Started GET "/students" for ::1 at 2022-12-10 17:11:27 -0300
Processing by StudentsController#index as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/students_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 1086)


Started POST "/enrollments" for ::1 at 2022-12-10 17:13:39 -0300
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started POST "/enrollments" for ::1 at 2022-12-10 17:14:40 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/enrollments" for ::1 at 2022-12-10 17:15:09 -0300
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/enrollments" for ::1 at 2022-12-10 17:17:14 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/enrollments" for ::1 at 2022-12-10 17:18:36 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 14ms (Views: 1.9ms | ActiveRecord: 2.3ms | Allocations: 20252)


Started POST "/enrollments" for ::1 at 2022-12-10 17:18:46 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
[31mUnpermitted parameter: :student_id. Context: { controller: EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fc5f4a1d170>, params: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "controller"=>"enrollments", "action"=>"create", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}} }[0m
Completed 422 Unprocessable Entity in 32ms (Views: 2.6ms | ActiveRecord: 2.3ms | Allocations: 22293)


Started GET "/students" for ::1 at 2022-12-10 17:18:59 -0300
Processing by StudentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/students_controller.rb:8:in `index'
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 2.8ms | Allocations: 15981)


Started GET "/students/1" for ::1 at 2022-12-10 17:19:05 -0300
Processing by StudentsController#show as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "id"=>"1", "student"=>{}}
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:44:in `set_student'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 2745)


Started POST "/enrollments" for ::1 at 2022-12-10 17:19:24 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
[31mUnpermitted parameter: :student_id. Context: { controller: EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fc5e8ac6380>, params: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "controller"=>"enrollments", "action"=>"create", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}} }[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 854)


Started POST "/enrollments" for ::1 at 2022-12-10 17:19:29 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
[31mUnpermitted parameter: :student_id. Context: { controller: EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fc5f4fc23c8>, params: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "controller"=>"enrollments", "action"=>"create", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}} }[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 754)


Started POST "/enrollments" for ::1 at 2022-12-10 17:21:03 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:21:03.977921"], ["updated_at", "2022-12-10 20:21:03.977921"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 104ms (ActiveRecord: 9.1ms | Allocations: 70069)


  
NameError (undefined local variable or method `full_price' for #<Enrollment id: nil, amount: 1000, installments: 4, due_day: 5, created_at: "2022-12-10 20:21:03.977921000 +0000", updated_at: "2022-12-10 20:21:03.977921000 +0000", student_id: 1>):
  
app/models/enrollment.rb:37:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 17:22:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:22:13.320089"], ["updated_at", "2022-12-10 20:22:13.320089"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 108ms (ActiveRecord: 11.6ms | Allocations: 83620)


  
NoMethodError (undefined method `payment_method' for #<Bill id: nil, amount: 1, due_date: "2023-02-05", status: "open", created_at: nil, updated_at: nil, enrollment_id: 2>):
  
app/models/enrollment.rb:36:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 17:24:11 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:24:11.285483"], ["updated_at", "2022-12-10 20:24:11.285483"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 104ms (ActiveRecord: 12.2ms | Allocations: 83621)


  
NoMethodError (undefined method `payment_method' for #<Bill id: nil, amount: 250, due_date: "2023-02-05", status: "open", created_at: nil, updated_at: nil, enrollment_id: 3>):
  
app/models/enrollment.rb:36:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started GET "/enrollments" for ::1 at 2022-12-10 17:25:01 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms | Allocations: 1061)


Started GET "/bills" for ::1 at 2022-12-10 17:25:08 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 973)


Started GET "/enrollments" for ::1 at 2022-12-10 17:25:18 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 681)


Started POST "/enrollments" for ::1 at 2022-12-10 17:25:27 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (7.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:25:27.106910"], ["updated_at", "2022-12-10 20:25:27.106910"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 8.9ms | Allocations: 6569)


  
NoMethodError (undefined method `payment_method' for #<Bill id: nil, amount: 250, due_date: "2023-02-10", status: "open", created_at: nil, updated_at: nil, enrollment_id: 4>):
  
app/models/enrollment.rb:36:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 17:30:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:30:13.562531"], ["updated_at", "2022-12-10 20:30:13.562531"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.588827"], ["updated_at", "2022-12-10 20:30:13.588827"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.592389"], ["updated_at", "2022-12-10 20:30:13.592389"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.598685"], ["updated_at", "2022-12-10 20:30:13.598685"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.602360"], ["updated_at", "2022-12-10 20:30:13.602360"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 111ms (Views: 0.9ms | ActiveRecord: 18.7ms | Allocations: 84994)


Started GET "/enrollments" for ::1 at 2022-12-10 17:30:21 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 1107)


Started GET "/bills" for ::1 at 2022-12-10 17:30:27 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 1478)


Started POST "/enrollments" for ::1 at 2022-12-10 17:31:23 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:31:23.651437"], ["updated_at", "2022-12-10 20:31:23.651437"], ["student_id", 2]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.655013"], ["updated_at", "2022-12-10 20:31:23.655013"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (1.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.657862"], ["updated_at", "2022-12-10 20:31:23.657862"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.661842"], ["updated_at", "2022-12-10 20:31:23.661842"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.665085"], ["updated_at", "2022-12-10 20:31:23.665085"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 7529)


Started GET "/bills" for ::1 at 2022-12-10 17:31:36 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms | Allocations: 1545)


Started GET "/enrollments" for ::1 at 2022-12-10 17:32:29 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 876)


Started DELETE "/enrollments/5" for ::1 at 2022-12-10 17:32:38 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "id"=>"5", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 5]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 27ms (ActiveRecord: 11.4ms | Allocations: 6236)


Started DELETE "/enrollments/6" for ::1 at 2022-12-10 17:32:44 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "id"=>"6", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 6]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 34ms (ActiveRecord: 5.3ms | Allocations: 5677)


Started GET "/bills" for ::1 at 2022-12-10 17:32:52 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 680)


Started POST "/enrollments" for ::1 at 2022-12-10 17:50:48 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (1.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:50:48.169903"], ["updated_at", "2022-12-10 20:50:48.169903"], ["student_id", 2]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (1.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.174062"], ["updated_at", "2022-12-10 20:50:48.174062"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (2.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.178373"], ["updated_at", "2022-12-10 20:50:48.178373"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.183105"], ["updated_at", "2022-12-10 20:50:48.183105"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.188724"], ["updated_at", "2022-12-10 20:50:48.188724"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 41ms (Views: 0.5ms | ActiveRecord: 13.5ms | Allocations: 10299)


Started PUT "/enrollments/7" for ::1 at 2022-12-10 17:51:16 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>6, "student_id"=>2, "id"=>"7", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>6, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 6], ["updated_at", "2022-12-10 20:51:16.932305"], ["id", 7]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.935596"], ["updated_at", "2022-12-10 20:51:16.935596"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.938639"], ["updated_at", "2022-12-10 20:51:16.938639"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.943348"], ["updated_at", "2022-12-10 20:51:16.943348"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.946574"], ["updated_at", "2022-12-10 20:51:16.946574"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 7973)


Started GET "/bills" for ::1 at 2022-12-10 17:51:23 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>6, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.4ms | Allocations: 1545)


Started POST "/enrollments" for ::1 at 2022-12-10 17:53:16 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>6, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>6, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (1.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 6], ["created_at", "2022-12-10 20:53:17.148503"], ["updated_at", "2022-12-10 20:53:17.148503"], ["student_id", 2]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.165004"], ["updated_at", "2022-12-10 20:53:17.165004"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.168888"], ["updated_at", "2022-12-10 20:53:17.168888"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (3.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.172266"], ["updated_at", "2022-12-10 20:53:17.172266"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.178655"], ["updated_at", "2022-12-10 20:53:17.178655"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 146ms (Views: 0.4ms | ActiveRecord: 18.5ms | Allocations: 18550)


Started PUT "/enrollments/8" for ::1 at 2022-12-10 17:53:41 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2, "id"=>"8", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 20:53:41.125698"], ["id", 8]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 4.7ms | Allocations: 3902)


Started GET "/bills" for ::1 at 2022-12-10 17:53:47 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.3ms | Allocations: 2312)


Started GET "/enrollments" for ::1 at 2022-12-10 17:54:17 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 895)


Started POST "/enrollments" for ::1 at 2022-12-10 17:55:56 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:55:56.756988"], ["updated_at", "2022-12-10 20:55:56.756988"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.771169"], ["updated_at", "2022-12-10 20:55:56.771169"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.774651"], ["updated_at", "2022-12-10 20:55:56.774651"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.777423"], ["updated_at", "2022-12-10 20:55:56.777423"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.780482"], ["updated_at", "2022-12-10 20:55:56.780482"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 48ms (Views: 0.6ms | ActiveRecord: 11.1ms | Allocations: 18382)


Started GET "/enrollments" for ::1 at 2022-12-10 17:56:01 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms | Allocations: 1090)


Started POST "/enrollments" for ::1 at 2022-12-10 17:56:18 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 20], ["created_at", "2022-12-10 20:56:18.156739"], ["updated_at", "2022-12-10 20:56:18.156739"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-01-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.159681"], ["updated_at", "2022-12-10 20:56:18.159681"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.162962"], ["updated_at", "2022-12-10 20:56:18.162962"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.166072"], ["updated_at", "2022-12-10 20:56:18.166072"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.169079"], ["updated_at", "2022-12-10 20:56:18.169079"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 21ms (Views: 0.5ms | ActiveRecord: 3.0ms | Allocations: 7371)


Started GET "/enrollments" for ::1 at 2022-12-10 17:56:22 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 1036)


Started DELETE "/enrollments/7" for ::1 at 2022-12-10 17:57:12 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"7", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 7]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 10]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 11]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 13]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 14]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 15]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 16]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 45ms (ActiveRecord: 9.9ms | Allocations: 15283)


Started DELETE "/enrollments/8" for ::1 at 2022-12-10 17:57:16 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"8", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.5ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 8]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 17]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 19]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 20]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 29ms (ActiveRecord: 12.1ms | Allocations: 5706)


Started DELETE "/enrollments/9" for ::1 at 2022-12-10 17:57:20 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"9", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 9]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 22]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 23]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 24]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 23ms (ActiveRecord: 8.6ms | Allocations: 5673)


Started DELETE "/enrollments/10" for ::1 at 2022-12-10 17:57:25 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"10", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (2.7ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 10]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 25]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 26]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 27]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 28]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 10]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 5.4ms | Allocations: 5673)


Started GET "/enrollments" for ::1 at 2022-12-10 17:57:31 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 768)


Started POST "/enrollments" for ::1 at 2022-12-10 17:57:40 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 20], ["created_at", "2022-12-10 20:57:40.891160"], ["updated_at", "2022-12-10 20:57:40.891160"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-01-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.894474"], ["updated_at", "2022-12-10 20:57:40.894474"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (6.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.897927"], ["updated_at", "2022-12-10 20:57:40.897927"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.907900"], ["updated_at", "2022-12-10 20:57:40.907900"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (1.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.911775"], ["updated_at", "2022-12-10 20:57:40.911775"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 56ms (Views: 0.7ms | ActiveRecord: 16.5ms | Allocations: 12365)


Started GET "/enrollments" for ::1 at 2022-12-10 17:57:45 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 805)


Started POST "/enrollments" for ::1 at 2022-12-10 17:57:59 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (3.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:57:59.030494"], ["updated_at", "2022-12-10 20:57:59.030494"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.038105"], ["updated_at", "2022-12-10 20:57:59.038105"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.041441"], ["updated_at", "2022-12-10 20:57:59.041441"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.044409"], ["updated_at", "2022-12-10 20:57:59.044409"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.047481"], ["updated_at", "2022-12-10 20:57:59.047481"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 31ms (Views: 0.5ms | ActiveRecord: 11.5ms | Allocations: 7390)


Started GET "/enrollments" for ::1 at 2022-12-10 17:58:07 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 861)


Started GET "/bills" for ::1 at 2022-12-10 17:58:31 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.9ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.9ms | Allocations: 1870)


Started GET "/enrollments" for ::1 at 2022-12-10 18:00:16 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 3.4ms | Allocations: 2813)


Started DELETE "/enrollments/12" for ::1 at 2022-12-10 18:00:28 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"12", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 12]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 33]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 34]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 35]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 36]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (1.1ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 36ms (ActiveRecord: 12.0ms | Allocations: 10609)


Started GET "/enrollments/11" for ::1 at 2022-12-10 18:00:39 -0300
Processing by EnrollmentsController#show as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 724)


Started POST "/enrollments/11" for ::1 at 2022-12-10 18:00:53 -0300
  
ActionController::RoutingError (No route matches [POST] "/enrollments/11"):
  
Started GET "/enrollments/11" for ::1 at 2022-12-10 18:01:10 -0300
Processing by EnrollmentsController#show as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 3.6ms | Allocations: 2768)


Started PUT "/enrollments/11" for ::1 at 2022-12-10 18:01:23 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (1.1ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 21:01:23.710330"], ["id", 11]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 29]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (4.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 31]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 32]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.741610"], ["updated_at", "2022-12-10 21:01:23.741610"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (7.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.749505"], ["updated_at", "2022-12-10 21:01:23.749505"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.759440"], ["updated_at", "2022-12-10 21:01:23.759440"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.762296"], ["updated_at", "2022-12-10 21:01:23.762296"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 25.5ms | Allocations: 20087)


Started GET "/enrollments" for ::1 at 2022-12-10 18:01:31 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms | Allocations: 820)


Started GET "/bills" for ::1 at 2022-12-10 18:01:42 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (1.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 1.1ms | Allocations: 1446)


Started DELETE "/enrollments/11" for ::1 at 2022-12-10 18:02:09 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (1.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 11]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 37]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 38]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 39]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 40]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 11]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 18ms (ActiveRecord: 4.5ms | Allocations: 5799)


Started GET "/bills" for ::1 at 2022-12-10 18:02:15 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 680)


Started POST "/enrollments" for ::1 at 2022-12-10 18:02:30 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 21:02:30.685317"], ["updated_at", "2022-12-10 21:02:30.685317"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (1.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.689046"], ["updated_at", "2022-12-10 21:02:30.689046"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (3.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.693662"], ["updated_at", "2022-12-10 21:02:30.693662"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.700322"], ["updated_at", "2022-12-10 21:02:30.700322"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.703207"], ["updated_at", "2022-12-10 21:02:30.703207"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 30ms (Views: 0.6ms | ActiveRecord: 7.6ms | Allocations: 7551)


Started PUT "/enrollments/13" for ::1 at 2022-12-10 18:02:51 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "id"=>"13", "enrollment"=>{"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (2.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "installments" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["installments", 5], ["updated_at", "2022-12-10 21:02:51.682293"], ["id", 13]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 41]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 42]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 43]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 44]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.694346"], ["updated_at", "2022-12-10 21:02:51.694346"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.697627"], ["updated_at", "2022-12-10 21:02:51.697627"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.701603"], ["updated_at", "2022-12-10 21:02:51.701603"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.704737"], ["updated_at", "2022-12-10 21:02:51.704737"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-06-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.707740"], ["updated_at", "2022-12-10 21:02:51.707740"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 8.2ms | Allocations: 11604)


Started GET "/bills" for ::1 at 2022-12-10 18:03:03 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms | Allocations: 1224)


Started GET "/bills" for ::1 at 2022-12-10 18:09:38 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/bills"):
  
Started GET "/bills" for ::1 at 2022-12-10 18:10:56 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/bills"):
  
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:13:12 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 27ms (Views: 11.2ms | ActiveRecord: 4.4ms | Allocations: 36862)


Started GET "/api/v1/students" for ::1 at 2022-12-10 18:16:00 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 3.4ms | Allocations: 15841)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:24:14 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 11.8ms | Allocations: 3258)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:25:10 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:25:10.409284"], ["updated_at", "2022-12-10 21:25:10.409284"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:25:10.417737"], ["updated_at", "2022-12-10 21:25:10.417737"], ["enrollment_id", 14]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:25:10.421005"], ["updated_at", "2022-12-10 21:25:10.421005"], ["enrollment_id", 14]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 8.7ms | Allocations: 28138)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f4d8>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:07 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:26:07.421501"], ["updated_at", "2022-12-10 21:26:07.421501"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:07.424691"], ["updated_at", "2022-12-10 21:26:07.424691"], ["enrollment_id", 15]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:07.428135"], ["updated_at", "2022-12-10 21:26:07.428135"], ["enrollment_id", 15]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.2ms | Allocations: 6451)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f640>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:11 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 1107)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:21 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (5.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:26:21.837400"], ["updated_at", "2022-12-10 21:26:21.837400"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.9ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:21.846532"], ["updated_at", "2022-12-10 21:26:21.846532"], ["enrollment_id", 16]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:21.850916"], ["updated_at", "2022-12-10 21:26:21.850916"], ["enrollment_id", 16]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 10.6ms | Allocations: 6377)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f758>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:42 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:26:42.766996"], ["updated_at", "2022-12-10 21:26:42.766996"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:26:42.770100"], ["updated_at", "2022-12-10 21:26:42.770100"], ["enrollment_id", 17]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:26:42.772898"], ["updated_at", "2022-12-10 21:26:42.772898"], ["enrollment_id", 17]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.3ms | Allocations: 6372)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f898>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:27:31 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.3ms | Allocations: 1123)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:27:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:27:37.147014"], ["updated_at", "2022-12-10 21:27:37.147014"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:27:37.150748"], ["updated_at", "2022-12-10 21:27:37.150748"], ["enrollment_id", 18]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:27:37.153922"], ["updated_at", "2022-12-10 21:27:37.153922"], ["enrollment_id", 18]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.2ms | Allocations: 6379)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000fa00>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 18:27:52 -0300
  
ActionController::RoutingError (No route matches [POST] "/enrollments"):
  
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:28:05 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 1210)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:28:09 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (5.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:28:09.777763"], ["updated_at", "2022-12-10 21:28:09.777763"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:28:09.788290"], ["updated_at", "2022-12-10 21:28:09.788290"], ["enrollment_id", 19]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:28:09.791609"], ["updated_at", "2022-12-10 21:28:09.791609"], ["enrollment_id", 19]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 7.0ms | Allocations: 6372)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000fb40>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/students" for ::1 at 2022-12-10 18:28:30 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 916)


Started GET "/api/v1/students" for ::1 at 2022-12-10 18:29:07 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 912)


Started POST "/api/v1/students" for ::1 at 2022-12-10 18:29:11 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Raissa"], ["cpf", "12378945688"], ["birthdate", "1988-05-18"], ["payment_method", "boleto"], ["created_at", "2022-12-10 21:29:11.950448"], ["updated_at", "2022-12-10 21:29:11.950448"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.0ms | Allocations: 4557)


  
NoMethodError (undefined method `student_url' for #<Api::V1::StudentsController:0x0000000000fcf8>):
  
app/controllers/api/v1/students_controller.rb:23:in `create'
Started POST "/api/v1/students" for ::1 at 2022-12-10 18:30:50 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.7ms | Allocations: 40673)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/students_controller.rb:25:in `create'
Started POST "/api/v1/students" for ::1 at 2022-12-10 18:31:28 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 422 Unprocessable Entity in 34ms (Views: 3.5ms | ActiveRecord: 4.2ms | Allocations: 41566)


Started GET "/api/v1/students" for ::1 at 2022-12-10 18:31:35 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms | Allocations: 1476)


Started DELETE "/api/v1/students/3" for ::1 at 2022-12-10 18:31:54 -0300
Processing by Api::V1::StudentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"3", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:46:in `set_student'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:40:in `destroy'
  [1m[36mStudent Destroy (0.8ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/api/v1/students_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:40:in `destroy'
Completed 204 No Content in 8ms (ActiveRecord: 2.0ms | Allocations: 2424)


Started POST "/api/v1/students/" for ::1 at 2022-12-10 18:32:02 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Raissa"], ["cpf", "12378945688"], ["birthdate", "1988-05-18"], ["payment_method", "boleto"], ["created_at", "2022-12-10 21:32:02.978781"], ["updated_at", "2022-12-10 21:32:02.978781"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.7ms | Allocations: 4537)


  
NoMethodError (undefined method `student_url' for #<Api::V1::StudentsController:0x0000000000a500>):
  
app/controllers/api/v1/students_controller.rb:23:in `create'
Started GET "/api/v1/students/" for ::1 at 2022-12-10 18:32:08 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 1045)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:32:42 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 4.0ms | Allocations: 16200)


Started DELETE "/api/v1/enrollments/13" for ::1 at 2022-12-10 18:33:13 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"13", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 13]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 45]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 46]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 47]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 48]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 49]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 13]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 76ms (ActiveRecord: 7.6ms | Allocations: 29211)


Started DELETE "/api/v1/enrollments/14" for ::1 at 2022-12-10 18:33:18 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"14", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.6ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 14]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 50]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 51]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 14]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 9.2ms | Allocations: 4336)


Started DELETE "/api/v1/enrollments/15" for ::1 at 2022-12-10 18:33:20 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"15", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 15]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 52]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 53]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.7ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 15]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 16ms (ActiveRecord: 4.1ms | Allocations: 4242)


Started DELETE "/api/v1/enrollments/16" for ::1 at 2022-12-10 18:33:23 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"16", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 16]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 54]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 16]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 8.4ms | Allocations: 4243)


Started DELETE "/api/v1/enrollments/17" for ::1 at 2022-12-10 18:33:26 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"17", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 17]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.0ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 17]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 17ms (ActiveRecord: 5.0ms | Allocations: 4244)


Started DELETE "/api/v1/enrollments/18" for ::1 at 2022-12-10 18:33:29 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"18", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 18]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 59]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 12ms (ActiveRecord: 2.8ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/19" for ::1 at 2022-12-10 18:33:32 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"19", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (2.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 19]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 60]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 61]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 19]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 15ms (ActiveRecord: 4.3ms | Allocations: 4240)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:33:38 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 722)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:34:32 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 2], ["created_at", "2022-12-10 21:34:32.852980"], ["updated_at", "2022-12-10 21:34:32.852980"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.856976"], ["updated_at", "2022-12-10 21:34:32.856976"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.861733"], ["updated_at", "2022-12-10 21:34:32.861733"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.864725"], ["updated_at", "2022-12-10 21:34:32.864725"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.867638"], ["updated_at", "2022-12-10 21:34:32.867638"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 3.3ms | Allocations: 9494)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000ad98>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:34:37 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.3ms | Allocations: 778)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:35:11 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 1444)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:36:34 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 3.4ms | Allocations: 2787)


Started DELETE "/api/v1/enrollments/20" for ::1 at 2022-12-10 18:36:42 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "id"=>"20", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (1.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 20]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 63]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 64]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 65]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 20]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 32ms (ActiveRecord: 6.4ms | Allocations: 10623)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:36:50 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 2], ["created_at", "2022-12-10 21:36:50.238376"], ["updated_at", "2022-12-10 21:36:50.238376"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.244994"], ["updated_at", "2022-12-10 21:36:50.244994"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.248914"], ["updated_at", "2022-12-10 21:36:50.248914"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.251570"], ["updated_at", "2022-12-10 21:36:50.251570"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.254543"], ["updated_at", "2022-12-10 21:36:50.254543"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.5ms | Allocations: 13452)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000ff00>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:37:31 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 810)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:37:40 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 1445)


Started POST "/api/v1/enrollments/21" for ::1 at 2022-12-10 18:38:08 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/enrollments/21"):
  
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:38:16 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms | Allocations: 1117)


Started GET "/api/v1/enrollmens" for ::1 at 2022-12-10 18:38:27 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/enrollmens"):
  
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:38:30 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 775)


Started PUT "/api/v1/enrollments/21" for ::1 at 2022-12-10 18:38:44 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"21", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 21:38:45.003078"], ["id", 21]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 66]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 67]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 68]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 69]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.016622"], ["updated_at", "2022-12-10 21:38:45.016622"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.020003"], ["updated_at", "2022-12-10 21:38:45.020003"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.022866"], ["updated_at", "2022-12-10 21:38:45.022866"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.025617"], ["updated_at", "2022-12-10 21:38:45.025617"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 10861)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:38:52 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (4.6ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 9ms (Views: 2.2ms | ActiveRecord: 4.6ms | Allocations: 1117)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:39:56 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:39:56.261261"], ["updated_at", "2022-12-10 21:39:56.261261"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:39:56.264885"], ["updated_at", "2022-12-10 21:39:56.264885"], ["enrollment_id", 22]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:39:56.268085"], ["updated_at", "2022-12-10 21:39:56.268085"], ["enrollment_id", 22]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.1ms | Allocations: 6397)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x00000000010428>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:40:05 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 1331)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:41:28 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:41:28.110040"], ["updated_at", "2022-12-10 21:41:28.110040"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:41:28.123395"], ["updated_at", "2022-12-10 21:41:28.123395"], ["enrollment_id", 23]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:41:28.126746"], ["updated_at", "2022-12-10 21:41:28.126746"], ["enrollment_id", 23]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 13.3ms | Allocations: 17346)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x00000000015180>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:41:35 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms | Allocations: 1886)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:42:01 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 1081)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:42:11 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 1545)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:54:54 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:7:in `index'
Completed 200 OK in 36ms (Views: 16.6ms | ActiveRecord: 6.7ms | Allocations: 36617)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:55:18 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fb1b4c0c7c8>, params: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `create'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 5.5ms | Allocations: 26944)


  
NoMethodError (undefined method `erros' for #<Enrollment id: nil, amount: 500, installments: 1, due_day: 10, created_at: nil, updated_at: nil, student_id: 1>
Did you mean?  errors):
  
app/controllers/api/v1/enrollments_controller.rb:20:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:55:45 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:7:in `index'
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms | Allocations: 1121)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:56:21 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 422 Unprocessable Entity in 61ms (Views: 3.5ms | ActiveRecord: 7.4ms | Allocations: 61545)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:56:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>3, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>3, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (1.2ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 3], ["due_day", 10], ["created_at", "2022-12-10 21:56:37.323772"], ["updated_at", "2022-12-10 21:56:37.323772"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 166], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:56:37.356777"], ["updated_at", "2022-12-10 21:56:37.356777"], ["enrollment_id", 24]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 166], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:56:37.360903"], ["updated_at", "2022-12-10 21:56:37.360903"], ["enrollment_id", 24]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 166], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:56:37.364784"], ["updated_at", "2022-12-10 21:56:37.364784"], ["enrollment_id", 24]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 6.7ms | Allocations: 27129)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000a528>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:00:21 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:00:21.301482"], ["updated_at", "2022-12-10 22:00:21.301482"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:21.319171"], ["updated_at", "2022-12-10 22:00:21.319171"], ["enrollment_id", 25]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:21.322607"], ["updated_at", "2022-12-10 22:00:21.322607"], ["enrollment_id", 25]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 16.5ms | Allocations: 17978)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f460>
Did you mean?  enrollment_params):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:00:40 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:00:40.974510"], ["updated_at", "2022-12-10 22:00:40.974510"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:40.999696"], ["updated_at", "2022-12-10 22:00:40.999696"], ["enrollment_id", 26]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (4.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:41.004216"], ["updated_at", "2022-12-10 22:00:41.004216"], ["enrollment_id", 26]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 106ms (ActiveRecord: 18.2ms | Allocations: 84329)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000a488>
Did you mean?  enrollment_params):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:01:07 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:01:07.644154"], ["updated_at", "2022-12-10 22:01:07.644154"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:07.666942"], ["updated_at", "2022-12-10 22:01:07.666942"], ["enrollment_id", 27]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:07.671046"], ["updated_at", "2022-12-10 22:01:07.671046"], ["enrollment_id", 27]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 16.1ms | Allocations: 84356)


  
NoMethodError (undefined method `api_enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000a488>
Did you mean?  api_v1_enrollment_url
               api_v1_enrollments_url):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:01:46 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:01:46.750269"], ["updated_at", "2022-12-10 22:01:46.750269"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:46.780056"], ["updated_at", "2022-12-10 22:01:46.780056"], ["enrollment_id", 28]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:46.785569"], ["updated_at", "2022-12-10 22:01:46.785569"], ["enrollment_id", 28]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 102ms (Views: 0.4ms | ActiveRecord: 12.3ms | Allocations: 82877)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:01:53 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms | Allocations: 1717)


Started DELETE "/api/v1/enrollments/21" for ::1 at 2022-12-10 19:02:03 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"21", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 21]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 70]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 71]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 72]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 73]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 6.1ms | Allocations: 6344)


Started DELETE "/api/v1/enrollments/22" for ::1 at 2022-12-10 19:02:07 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"22", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 22]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 74]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 75]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 22]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 18ms (ActiveRecord: 7.8ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/23" for ::1 at 2022-12-10 19:02:10 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"23", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 23]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 76]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 77]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 23]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 37ms (ActiveRecord: 3.7ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/24" for ::1 at 2022-12-10 19:02:13 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"24", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 24]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 78]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 79]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 80]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 24]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 16ms (ActiveRecord: 4.2ms | Allocations: 4961)


Started DELETE "/api/v1/enrollments/25" for ::1 at 2022-12-10 19:02:16 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"25", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 25]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 81]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 82]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 25]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 13ms (ActiveRecord: 2.3ms | Allocations: 4244)


Started DELETE "/api/v1/enrollments/26" for ::1 at 2022-12-10 19:02:19 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"26", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (4.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (1.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 26]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (3.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 83]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 84]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 26]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 32ms (ActiveRecord: 19.8ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/27" for ::1 at 2022-12-10 19:02:22 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"27", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (3.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 27]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 85]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 86]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.2ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 27]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 16ms (ActiveRecord: 5.7ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/28" for ::1 at 2022-12-10 19:02:25 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"28", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (2.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 28]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 87]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 88]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 28]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 23ms (ActiveRecord: 10.5ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/29" for ::1 at 2022-12-10 19:02:27 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"29", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 579)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=29):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:02:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:02:37.573140"], ["updated_at", "2022-12-10 22:02:37.573140"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:37.579487"], ["updated_at", "2022-12-10 22:02:37.579487"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:37.584768"], ["updated_at", "2022-12-10 22:02:37.584768"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 34ms (Views: 0.4ms | ActiveRecord: 6.6ms | Allocations: 5402)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:02:42 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms | Allocations: 774)


Started PUT "/api/v1/enrollments/29" for ::1 at 2022-12-10 19:02:56 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"29", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "amount" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["amount", 500], ["updated_at", "2022-12-10 22:02:56.524433"], ["id", 29]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 89]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 90]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:56.535745"], ["updated_at", "2022-12-10 22:02:56.535745"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:56.538457"], ["updated_at", "2022-12-10 22:02:56.538457"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 24ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 7525)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:03:07 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 1234)


Started POST "/api/v1/students" for ::1 at 2022-12-10 19:03:20 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "student"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 329)


  
ActionController::ParameterMissing (param is missing or the value is empty: student
Did you mean?  student_id):
  
app/controllers/api/v1/students_controller.rb:51:in `student_params'
app/controllers/api/v1/students_controller.rb:20:in `create'
Started POST "/api/v1/students" for ::1 at 2022-12-10 19:03:23 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "student"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 175)


  
ActionController::ParameterMissing (param is missing or the value is empty: student
Did you mean?  student_id):
  
app/controllers/api/v1/students_controller.rb:51:in `student_params'
app/controllers/api/v1/students_controller.rb:20:in `create'
Started GET "/api/v1/students" for ::1 at 2022-12-10 19:03:28 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms | Allocations: 1249)


Started POST "/api/v1/students" for ::1 at 2022-12-10 19:05:18 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945698"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Sara"], ["cpf", "12378945698"], ["birthdate", "1988-02-03"], ["payment_method", "credit_card"], ["created_at", "2022-12-10 22:05:18.711151"], ["updated_at", "2022-12-10 22:05:18.711151"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 201 Created in 39ms (Views: 0.5ms | ActiveRecord: 5.6ms | Allocations: 41724)


Started GET "/api/v1/students" for ::1 at 2022-12-10 19:05:23 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms | Allocations: 1487)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:07:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 30ms (Views: 12.9ms | ActiveRecord: 4.6ms | Allocations: 36349)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:07:55 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:07:55.943136"], ["updated_at", "2022-12-10 22:07:55.943136"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:07:55.968196"], ["updated_at", "2022-12-10 22:07:55.968196"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:07:55.972040"], ["updated_at", "2022-12-10 22:07:55.972040"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 78ms (Views: 0.4ms | ActiveRecord: 9.7ms | Allocations: 47114)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:08:06 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 1481)


Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:08:40 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>12, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>12, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.6ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 12], ["updated_at", "2022-12-10 22:08:40.818935"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 93]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 94]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-12"], ["status", "open"], ["created_at", "2022-12-10 22:08:40.828126"], ["updated_at", "2022-12-10 22:08:40.828126"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-12"], ["status", "open"], ["created_at", "2022-12-10 22:08:40.844286"], ["updated_at", "2022-12-10 22:08:40.844286"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 37ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 8204)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:08:49 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>12, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms | Allocations: 1118)


Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:09:42 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>13, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>13, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 13], ["updated_at", "2022-12-10 22:09:42.846049"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 95]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 96]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (1.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-13"], ["status", "open"], ["created_at", "2022-12-10 22:09:42.863844"], ["updated_at", "2022-12-10 22:09:42.863844"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-13"], ["status", "open"], ["created_at", "2022-12-10 22:09:42.868780"], ["updated_at", "2022-12-10 22:09:42.868780"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 50ms (Views: 0.5ms | ActiveRecord: 13.1ms | Allocations: 19077)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:09:51 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>13, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms | Allocations: 1444)


Started PUT "/api/v1/enrollments" for ::1 at 2022-12-10 19:12:00 -0300
  
ActionController::RoutingError (No route matches [PUT] "/api/v1/enrollments"):
  
Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:12:12 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 5], ["updated_at", "2022-12-10 22:12:12.584469"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:12:12.632888"], ["updated_at", "2022-12-10 22:12:12.632888"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 500 Internal Server Error in 109ms (ActiveRecord: 2.8ms | Allocations: 6729)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/models/enrollment.rb:48:in `update_bills'
app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Started GET "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:12:28 -0300
Processing by Api::V1::EnrollmentsController#show as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (5.9ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 5.9ms | Allocations: 645)


Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:12:42 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (2.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 5], ["updated_at", "2022-12-10 22:12:42.602973"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:12:42.610704"], ["updated_at", "2022-12-10 22:12:42.610704"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 6.1ms | Allocations: 6475)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/models/enrollment.rb:48:in `update_bills'
app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:13:03 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 2], ["updated_at", "2022-12-10 22:13:03.227055"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (1.9ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (2.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (2.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2022-12-02"], ["status", "open"], ["created_at", "2022-12-10 22:13:03.240614"], ["updated_at", "2022-12-10 22:13:03.240614"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 13.8ms | Allocations: 6471)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/models/enrollment.rb:48:in `update_bills'
app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:14:19 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 5.9ms | Allocations: 2873)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:14:36 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:14:36.740460"], ["updated_at", "2022-12-10 22:14:36.740460"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-01-11"], ["status", "open"], ["created_at", "2022-12-10 22:14:36.752589"], ["updated_at", "2022-12-10 22:14:36.752589"], ["enrollment_id", 31]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:14:36.756984"], ["updated_at", "2022-12-10 22:14:36.756984"], ["enrollment_id", 31]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 41ms (Views: 0.4ms | ActiveRecord: 8.3ms | Allocations: 14618)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:14:45 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 1672)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:15:25 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (2.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:15:25.496504"], ["updated_at", "2022-12-10 22:15:25.496504"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:15:25.512019"], ["updated_at", "2022-12-10 22:15:25.512019"], ["enrollment_id", 32]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-11"], ["status", "open"], ["created_at", "2022-12-10 22:15:25.515333"], ["updated_at", "2022-12-10 22:15:25.515333"], ["enrollment_id", 32]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 46ms (Views: 0.4ms | ActiveRecord: 16.6ms | Allocations: 16309)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:15:34 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms | Allocations: 1886)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:16:06 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:16:06.468446"], ["updated_at", "2022-12-10 22:16:06.468446"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:16:06.498187"], ["updated_at", "2022-12-10 22:16:06.498187"], ["enrollment_id", 33]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-11"], ["status", "open"], ["created_at", "2022-12-10 22:16:06.501365"], ["updated_at", "2022-12-10 22:16:06.501365"], ["enrollment_id", 33]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 103ms (Views: 0.3ms | ActiveRecord: 13.0ms | Allocations: 82881)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:16:14 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms | Allocations: 2161)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:17:05 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:17:05.286454"], ["updated_at", "2022-12-10 22:17:05.286454"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-01-11"], ["status", "open"], ["created_at", "2022-12-10 22:17:05.321083"], ["updated_at", "2022-12-10 22:17:05.321083"], ["enrollment_id", 34]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:17:05.325274"], ["updated_at", "2022-12-10 22:17:05.325274"], ["enrollment_id", 34]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 108ms (Views: 0.5ms | ActiveRecord: 14.4ms | Allocations: 82879)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:17:12 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>150}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.4ms | Allocations: 2376)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:18:17 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:18:17.692168"], ["updated_at", "2022-12-10 22:18:17.692168"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-01-11"], ["status", "open"], ["created_at", "2022-12-10 22:18:17.706940"], ["updated_at", "2022-12-10 22:18:17.706940"], ["enrollment_id", 35]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:18:17.709602"], ["updated_at", "2022-12-10 22:18:17.709602"], ["enrollment_id", 35]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 45ms (Views: 0.4ms | ActiveRecord: 13.6ms | Allocations: 16339)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:18:25 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>150}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 2529)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:28:55 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 44ms (Views: 29.6ms | ActiveRecord: 4.0ms | Allocations: 36873)


Started DELETE "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:29:09 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 54ms (ActiveRecord: 6.0ms | Allocations: 27447)


Started DELETE "/api/v1/enrollments/31" for ::1 at 2022-12-10 19:29:12 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"31", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 31]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 102]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 103]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 31]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 7.8ms | Allocations: 4354)


Started DELETE "/api/v1/enrollments/32" for ::1 at 2022-12-10 19:29:16 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"32", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 32]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 104]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 105]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 32]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 7.7ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/33" for ::1 at 2022-12-10 19:29:19 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"33", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.9ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 33]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 106]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 107]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 33]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 25ms (ActiveRecord: 9.8ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/34" for ::1 at 2022-12-10 19:29:22 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"34", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 34]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 108]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 109]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 34]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 23ms (ActiveRecord: 11.1ms | Allocations: 4243)


Started DELETE "/api/v1/enrollments/35" for ::1 at 2022-12-10 19:29:26 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"35", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 35]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 110]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 111]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 35]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 26ms (ActiveRecord: 9.7ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/36" for ::1 at 2022-12-10 19:29:30 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"36", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms | Allocations: 579)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=36):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:29:52 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:29:53.037164"], ["updated_at", "2022-12-10 22:29:53.037164"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:29:53.041798"], ["updated_at", "2022-12-10 22:29:53.041798"], ["enrollment_id", 36]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 5.2ms | Allocations: 23664)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:30:25 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.2ms | Allocations: 819)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:31:40 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 50ms (Views: 16.9ms | ActiveRecord: 3.2ms | Allocations: 36347)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:31:47 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (1.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:31:47.707925"], ["updated_at", "2022-12-10 22:31:47.707925"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:31:47.740271"], ["updated_at", "2022-12-10 22:31:47.740271"], ["enrollment_id", 37]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 74ms (ActiveRecord: 15.5ms | Allocations: 45127)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:32:35 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (1.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:32:35.727063"], ["updated_at", "2022-12-10 22:32:35.727063"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-01-12"], ["status", "open"], ["created_at", "2022-12-10 22:32:35.731372"], ["updated_at", "2022-12-10 22:32:35.731372"], ["enrollment_id", 38]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (1.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-02-12"], ["status", "open"], ["created_at", "2022-12-10 22:32:35.736983"], ["updated_at", "2022-12-10 22:32:35.736983"], ["enrollment_id", 38]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 27ms (Views: 0.3ms | ActiveRecord: 5.3ms | Allocations: 5487)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:32:44 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 874)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:32:50 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2, "bill"=>{"amount"=>150}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms | Allocations: 1463)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:34:01 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>200, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>200, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 200], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:34:01.662363"], ["updated_at", "2022-12-10 22:34:01.662363"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:34:01.676367"], ["updated_at", "2022-12-10 22:34:01.676367"], ["enrollment_id", 39]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 9.0ms | Allocations: 15216)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:38:25 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:38:25.924771"], ["updated_at", "2022-12-10 22:38:25.924771"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:38:25.938104"], ["updated_at", "2022-12-10 22:38:25.938104"], ["enrollment_id", 40]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 9.7ms | Allocations: 15181)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:39:44 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (2.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:39:44.442502"], ["updated_at", "2022-12-10 22:39:44.442502"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:39:44.468251"], ["updated_at", "2022-12-10 22:39:44.468251"], ["enrollment_id", 41]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:39:44.471345"], ["updated_at", "2022-12-10 22:39:44.471345"], ["enrollment_id", 41]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 105ms (Views: 0.6ms | ActiveRecord: 16.0ms | Allocations: 82867)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:39:51 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 1733)


Started POST "/api/v1/bills" for ::1 at 2022-12-10 19:41:42 -0300
  
AbstractController::ActionNotFound (The action 'create' could not be found for Api::V1::BillsController):
  
actionpack (7.0.4) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:41:49 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:41:49.951432"], ["updated_at", "2022-12-10 22:41:49.951432"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:41:49.963815"], ["updated_at", "2022-12-10 22:41:49.963815"], ["enrollment_id", 42]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:41:49.966531"], ["updated_at", "2022-12-10 22:41:49.966531"], ["enrollment_id", 42]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 49ms (Views: 0.4ms | ActiveRecord: 18.6ms | Allocations: 16363)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:42:17 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:42:17.664679"], ["updated_at", "2022-12-10 22:42:17.664679"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:42:17.689952"], ["updated_at", "2022-12-10 22:42:17.689952"], ["enrollment_id", 43]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:42:17.694087"], ["updated_at", "2022-12-10 22:42:17.694087"], ["enrollment_id", 43]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 95ms (Views: 0.5ms | ActiveRecord: 16.6ms | Allocations: 82866)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:42:30 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:42:30.367341"], ["updated_at", "2022-12-10 22:42:30.367341"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms | Allocations: 3259)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:40:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:43:16 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:43:16.147548"], ["updated_at", "2022-12-10 22:43:16.147548"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 9.2ms | Allocations: 11625)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:42:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:43:48 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:43:48.613269"], ["updated_at", "2022-12-10 22:43:48.613269"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 7.4ms | Allocations: 11578)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:40:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:44:48 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:44:48.279314"], ["updated_at", "2022-12-10 22:44:48.279314"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:44:48.301911"], ["updated_at", "2022-12-10 22:44:48.301911"], ["enrollment_id", 47]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:44:48.305768"], ["updated_at", "2022-12-10 22:44:48.305768"], ["enrollment_id", 47]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 51ms (Views: 0.4ms | ActiveRecord: 17.4ms | Allocations: 16298)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:45:20 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 3.9ms | Allocations: 3205)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:45:31 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:45:31.956035"], ["updated_at", "2022-12-10 22:45:31.956035"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 6.3ms | Allocations: 9852)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:40:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:48:01 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:48:01.376136"], ["updated_at", "2022-12-10 22:48:01.376136"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:01.405870"], ["updated_at", "2022-12-10 22:48:01.405870"], ["enrollment_id", 49]]
  ↳ app/models/enrollment.rb:41:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:01.409164"], ["updated_at", "2022-12-10 22:48:01.409164"], ["enrollment_id", 49]]
  ↳ app/models/enrollment.rb:41:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 95ms (Views: 0.4ms | ActiveRecord: 13.9ms | Allocations: 82864)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:48:22 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (1.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:48:23.043372"], ["updated_at", "2022-12-10 22:48:23.043372"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:23.058849"], ["updated_at", "2022-12-10 22:48:23.058849"], ["enrollment_id", 50]]
  ↳ app/models/enrollment.rb:42:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:23.062690"], ["updated_at", "2022-12-10 22:48:23.062690"], ["enrollment_id", 50]]
  ↳ app/models/enrollment.rb:42:in `create_bills'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 49ms (Views: 0.4ms | ActiveRecord: 11.4ms | Allocations: 16340)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:18 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:49:18.840358"], ["updated_at", "2022-12-10 22:49:18.840358"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (2.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:49:18.855104"], ["updated_at", "2022-12-10 22:49:18.855104"], ["enrollment_id", 51]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:49:18.862525"], ["updated_at", "2022-12-10 22:49:18.862525"], ["enrollment_id", 51]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 47ms (Views: 0.7ms | ActiveRecord: 14.0ms | Allocations: 16311)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:28 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:49:28.284078"], ["updated_at", "2022-12-10 22:49:28.284078"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-12"], ["status", "open"], ["created_at", "2022-12-10 22:49:28.287352"], ["updated_at", "2022-12-10 22:49:28.287352"], ["enrollment_id", 52]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-12"], ["status", "open"], ["created_at", "2022-12-10 22:49:28.320345"], ["updated_at", "2022-12-10 22:49:28.320345"], ["enrollment_id", 52]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 69ms (Views: 0.6ms | ActiveRecord: 2.8ms | Allocations: 5349)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>1, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>1, "student_id"=>2}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.6ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 1], ["created_at", "2022-12-10 22:49:37.325597"], ["updated_at", "2022-12-10 22:49:37.325597"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (4.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-01"], ["status", "open"], ["created_at", "2022-12-10 22:49:37.330645"], ["updated_at", "2022-12-10 22:49:37.330645"], ["enrollment_id", 53]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-01"], ["status", "open"], ["created_at", "2022-12-10 22:49:37.337496"], ["updated_at", "2022-12-10 22:49:37.337496"], ["enrollment_id", 53]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 76ms (Views: 0.4ms | ActiveRecord: 12.1ms | Allocations: 5276)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:56 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-10 22:49:56.390128"], ["updated_at", "2022-12-10 22:49:56.390128"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:49:56.394284"], ["updated_at", "2022-12-10 22:49:56.394284"], ["enrollment_id", 54]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:49:56.397886"], ["updated_at", "2022-12-10 22:49:56.397886"], ["enrollment_id", 54]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (3.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:49:56.402986"], ["updated_at", "2022-12-10 22:49:56.402986"], ["enrollment_id", 54]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 33ms (Views: 0.3ms | ActiveRecord: 6.5ms | Allocations: 6325)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:50:10 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (3.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 3.2ms | Allocations: 2042)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:51:37 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (6.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 12ms (Views: 5.7ms | ActiveRecord: 6.2ms | Allocations: 1734)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:51:54 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-10 22:51:54.917872"], ["updated_at", "2022-12-10 22:51:54.917872"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:51:54.921238"], ["updated_at", "2022-12-10 22:51:54.921238"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (4.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:51:54.924374"], ["updated_at", "2022-12-10 22:51:54.924374"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:51:54.933242"], ["updated_at", "2022-12-10 22:51:54.933242"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 27ms (Views: 0.4ms | ActiveRecord: 7.0ms | Allocations: 6484)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:52:02 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 1820)


Started PUT "/api/v1/enrollments/55" for ::1 at 2022-12-10 19:52:28 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"55", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "installments" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["installments", 4], ["updated_at", "2022-12-10 22:52:28.374193"], ["id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 139]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 140]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 141]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.384011"], ["updated_at", "2022-12-10 22:52:28.384011"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.388269"], ["updated_at", "2022-12-10 22:52:28.388269"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.391929"], ["updated_at", "2022-12-10 22:52:28.391929"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-03-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.395069"], ["updated_at", "2022-12-10 22:52:28.395069"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.398133"], ["updated_at", "2022-12-10 22:52:28.398133"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.403590"], ["updated_at", "2022-12-10 22:52:28.403590"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.408028"], ["updated_at", "2022-12-10 22:52:28.408028"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-03-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.411239"], ["updated_at", "2022-12-10 22:52:28.411239"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 50ms (Views: 0.9ms | ActiveRecord: 6.7ms | Allocations: 14828)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:52:39 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.3ms | Allocations: 4553)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:53:33 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms | Allocations: 1821)


Started GET "/api/v1/enrollments/47" for ::1 at 2022-12-10 19:53:39 -0300
Processing by Api::V1::EnrollmentsController#show as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"47", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 670)


Started DELETE "/api/v1/enrollments/47" for ::1 at 2022-12-10 19:53:43 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"47", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 47]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.0ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 124]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 125]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 47]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 13ms (ActiveRecord: 3.8ms | Allocations: 4363)


Started DELETE "/api/v1/enrollments/48" for ::1 at 2022-12-10 19:53:46 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"48", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 579)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=48):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started DELETE "/api/v1/enrollments/49" for ::1 at 2022-12-10 19:53:49 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"49", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 49]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (5.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 126]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 127]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 49]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 27ms (ActiveRecord: 7.7ms | Allocations: 4241)


Started DELETE "/api/v1/enrollments/50" for ::1 at 2022-12-10 19:53:53 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"50", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 50]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 128]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 129]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (2.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 50]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 9.6ms | Allocations: 4241)


Started DELETE "/api/v1/enrollments/51" for ::1 at 2022-12-10 19:53:56 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"51", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.7ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 51]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (4.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 130]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 131]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 51]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 17ms (ActiveRecord: 8.6ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/52" for ::1 at 2022-12-10 19:53:59 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"52", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 52]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 132]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 133]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 52]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 11ms (ActiveRecord: 2.3ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/53" for ::1 at 2022-12-10 19:54:01 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"53", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 53]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 134]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 135]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.1ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 53]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 6.0ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/54" for ::1 at 2022-12-10 19:54:04 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"54", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 54]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 136]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 137]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 138]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 54]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 4.6ms | Allocations: 4956)


Started DELETE "/api/v1/enrollments/55" for ::1 at 2022-12-10 19:54:07 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"55", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 142]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 143]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 144]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 145]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 146]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 147]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 148]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 149]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 35ms (ActiveRecord: 10.7ms | Allocations: 8537)


Started DELETE "/api/v1/enrollments/56" for ::1 at 2022-12-10 19:54:08 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"56", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 546)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=56):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:54:24 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 5], ["created_at", "2022-12-10 22:54:24.557360"], ["updated_at", "2022-12-10 22:54:24.557360"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:54:24.566060"], ["updated_at", "2022-12-10 22:54:24.566060"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:54:24.568935"], ["updated_at", "2022-12-10 22:54:24.568935"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:54:24.573989"], ["updated_at", "2022-12-10 22:54:24.573989"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 32ms (Views: 0.4ms | ActiveRecord: 8.4ms | Allocations: 6404)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:54:32 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.4ms | Allocations: 2081)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:54:52 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms | Allocations: 1210)


Started DELETE "/api/v1/enrollments/29" for ::1 at 2022-12-10 19:55:09 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"29", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 29]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 91]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 92]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 29]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 12ms (ActiveRecord: 2.0ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/41" for ::1 at 2022-12-10 19:55:12 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"41", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 41]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 118]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 119]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 41]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 13.4ms | Allocations: 4240)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:55:17 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 1036)


Started DELETE "/api/v1/enrollments/38" for ::1 at 2022-12-10 19:55:27 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"38", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 38]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 114]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 115]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 38]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 2.1ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/42" for ::1 at 2022-12-10 19:55:30 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"42", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 42]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 120]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 121]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 42]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 13ms (ActiveRecord: 3.1ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/43" for ::1 at 2022-12-10 19:55:34 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"43", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 43]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 122]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 123]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.1ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 43]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 8.8ms | Allocations: 4240)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:55:41 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 774)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:55:47 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.4ms | Allocations: 1009)


Started PUT "/api/v1/enrollments/56" for ::1 at 2022-12-10 19:56:19 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "id"=>"56", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 22:56:19.388255"], ["id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 150]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 151]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 152]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.397861"], ["updated_at", "2022-12-10 22:56:19.397861"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.400935"], ["updated_at", "2022-12-10 22:56:19.400935"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.403914"], ["updated_at", "2022-12-10 22:56:19.403914"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.407063"], ["updated_at", "2022-12-10 22:56:19.407063"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.409570"], ["updated_at", "2022-12-10 22:56:19.409570"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.412312"], ["updated_at", "2022-12-10 22:56:19.412312"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 36ms (Views: 0.4ms | ActiveRecord: 5.2ms | Allocations: 12093)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:56:26 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms | Allocations: 1331)


Started DELETE "/api/v1/enrollments/56" for ::1 at 2022-12-10 19:58:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "id"=>"56", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (1.0ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 153]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 154]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 155]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 156]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 157]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 158]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 82ms (ActiveRecord: 12.1ms | Allocations: 66727)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:58:21 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 10], ["created_at", "2022-12-10 22:58:21.287199"], ["updated_at", "2022-12-10 22:58:21.287199"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:58:21.291183"], ["updated_at", "2022-12-10 22:58:21.291183"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:58:21.296113"], ["updated_at", "2022-12-10 22:58:21.296113"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:58:21.300169"], ["updated_at", "2022-12-10 22:58:21.300169"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 48ms (Views: 0.5ms | ActiveRecord: 6.7ms | Allocations: 25197)


Started PUT "/api/v1/enrollments" for ::1 at 2022-12-10 19:58:33 -0300
  
ActionController::RoutingError (No route matches [PUT] "/api/v1/enrollments"):
  
Started PUT "/api/v1/enrollments/57" for ::1 at 2022-12-10 19:58:38 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"57", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 159]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 160]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 161]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.728276"], ["updated_at", "2022-12-10 22:58:38.728276"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.731892"], ["updated_at", "2022-12-10 22:58:38.731892"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.737876"], ["updated_at", "2022-12-10 22:58:38.737876"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 5], ["updated_at", "2022-12-10 22:58:38.719834"], ["id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.757837"], ["updated_at", "2022-12-10 22:58:38.757837"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.760776"], ["updated_at", "2022-12-10 22:58:38.760776"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.2ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.764070"], ["updated_at", "2022-12-10 22:58:38.764070"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 66ms (Views: 0.4ms | ActiveRecord: 14.8ms | Allocations: 12393)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:58:46 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 1691)


Started DELETE "/api/v1/enrollments/57" for ::1 at 2022-12-10 19:59:19 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"57", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.6ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 162]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 163]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 164]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 165]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 166]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 167]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 109ms (ActiveRecord: 21.2ms | Allocations: 66747)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:59:47 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 5], ["created_at", "2022-12-10 22:59:47.509510"], ["updated_at", "2022-12-10 22:59:47.509510"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:59:47.532605"], ["updated_at", "2022-12-10 22:59:47.532605"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:59:47.536460"], ["updated_at", "2022-12-10 22:59:47.536460"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:59:47.540135"], ["updated_at", "2022-12-10 22:59:47.540135"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 107ms (Views: 0.6ms | ActiveRecord: 15.6ms | Allocations: 83923)


Started PUT "/api/v1/enrollments/58" for ::1 at 2022-12-10 20:00:00 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "id"=>"58", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (2.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 168]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 169]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 170]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 23:00:00.546146"], ["updated_at", "2022-12-10 23:00:00.546146"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 23:00:00.551197"], ["updated_at", "2022-12-10 23:00:00.551197"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 23:00:00.556072"], ["updated_at", "2022-12-10 23:00:00.556072"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 23:00:00.534666"], ["id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 46ms (Views: 0.4ms | ActiveRecord: 12.2ms | Allocations: 9839)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 20:00:07 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (1.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 1.5ms | Allocations: 1369)


Started PUT "/api/v1/enrollments/58" for ::1 at 2022-12-10 20:00:33 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "id"=>"58", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (2.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 171]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 172]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 173]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 23:00:33.146029"], ["updated_at", "2022-12-10 23:00:33.146029"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 23:00:33.149034"], ["updated_at", "2022-12-10 23:00:33.149034"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 23:00:33.152454"], ["updated_at", "2022-12-10 23:00:33.152454"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 29], ["updated_at", "2022-12-10 23:00:33.123971"], ["id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 53ms (Views: 0.4ms | ActiveRecord: 7.8ms | Allocations: 9185)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 20:00:39 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 1010)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:10:18 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "student"=>{}}
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 5.3ms | Allocations: 3212)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:10:54 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945611"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "José"], ["cpf", "12378945611"], ["birthdate", "1988-02-03"], ["payment_method", "credit_card"], ["created_at", "2022-12-10 23:10:54.910621"], ["updated_at", "2022-12-10 23:10:54.910621"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 201 Created in 11ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 3633)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:11:21 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 31ms (Views: 25.9ms | ActiveRecord: 4.8ms | Allocations: 3253)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:11:42 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945613"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (3.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Luzia"], ["cpf", "12378945613"], ["birthdate", "1988-02-03"], ["payment_method", "credit_card"], ["created_at", "2022-12-10 23:11:42.886529"], ["updated_at", "2022-12-10 23:11:42.886529"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 5.3ms | Allocations: 5428)


  
NameError (undefined local variable or method `student' for #<Api::V1::StudentsController:0x000000000144d8>
Did you mean?  @student):
  
app/controllers/api/v1/students_controller.rb:23:in `create'
Started GET "/api/v1/students" for ::1 at 2022-12-10 20:25:49 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 36ms (Views: 19.7ms | ActiveRecord: 7.4ms | Allocations: 36978)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 20:26:02 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 19ms (Views: 12.5ms | ActiveRecord: 6.9ms | Allocations: 15702)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:26:26 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945613"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 422 Unprocessable Entity in 15ms (Views: 3.0ms | ActiveRecord: 0.8ms | Allocations: 5911)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:26:32 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945614"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Ana"], ["cpf", "12378945614"], ["birthdate", "1988-02-03"], ["payment_method", "boleto"], ["created_at", "2022-12-10 23:26:32.738757"], ["updated_at", "2022-12-10 23:26:32.738757"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 201 Created in 12ms (Views: 0.4ms | ActiveRecord: 1.9ms | Allocations: 3573)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:26:37 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 1522)


