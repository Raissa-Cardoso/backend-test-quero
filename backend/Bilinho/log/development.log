  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "Bilinho_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "Bilinho_test" ENCODING = 'unicode'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStudents (20221210192056)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "cpf" character varying, "birthdate" date, "payment_method" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (6.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (43.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Bilinho_development"[0m
  [1m[35m (44.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Bilinho_test"[0m
  [1m[35m (438.4ms)[0m  [1m[35mCREATE DATABASE "Bilinho_development" ENCODING = 'unicode'[0m
  [1m[35m (207.1ms)[0m  [1m[35mCREATE DATABASE "Bilinho_test" ENCODING = 'unicode'[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStudents (20221210192056)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "cpf" character varying, "birthdate" date, "payment_method" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192056"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEnrollments (20221210192216)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "enrollments" ("id" bigserial primary key, "amount" integer, "installments" integer, "due_day" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192216"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBills (20221210192253)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "bills" ("id" bigserial primary key, "amount" integer, "due_date" date, "status" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192253"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-10 19:28:52.977953"], ["updated_at", "2022-12-10 19:28:52.977953"]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNull (20221210192905)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "name" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "cpf" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "payment_method" SET NOT NULL[0m
  [1m[35m (6.4ms)[0m  [1m[35mALTER TABLE "enrollment" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNull (20221210192905)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "name" SET NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "cpf" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "payment_method" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "installments" SET NOT NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "due_date" SET NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNull (20221210192905)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "name" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "cpf" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "students" ALTER COLUMN "payment_method" SET NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "installments" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ALTER COLUMN "due_day" SET NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "amount" SET NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "due_date" SET NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "status" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210192905"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDefaultStatus (20221210193647)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bills" ALTER COLUMN "status" SET DEFAULT 'open'[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210193647"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumns (20221210194140)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210194140"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumns (20221210194140)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bills" DROP COLUMN "enrollment_id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumns (20221210194635)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "enrollments" ADD "student_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bills" ADD "enrollment_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210194635"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddForeignKey (20221210194730)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "enrollments" ADD CONSTRAINT "fk_rails_f01c555e06"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "bills" ADD CONSTRAINT "fk_rails_889f0f97f7"
FOREIGN KEY ("enrollment_id")
  REFERENCES "enrollments" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221210194730"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1182092979748971780)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2022-12-10 17:07:32 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/raissacardoso/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/raissacardoso/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.1ms | Allocations: 932)
Completed 200 OK in 20ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 7829)


Started POST "/students" for ::1 at 2022-12-10 17:09:24 -0300
Processing by StudentsController#create as */*
  Parameters: {"student_name"=>"Carlos", "cpf"=>"12378945678", "birth_date"=>"1988-05-18", "cell_phone"=>14545, "gender"=>"M", "payment_methods"=>"Cartão", "student"=>{"cpf"=>"12378945678"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 37ms (Views: 15.9ms | ActiveRecord: 4.4ms | Allocations: 22981)


Started POST "/students" for ::1 at 2022-12-10 17:10:23 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"Maria", "cpf"=>"12378945678", "birth_date"=>"1988-05-18", "payment_methods"=>"credit_card", "student"=>{"name"=>"Maria", "cpf"=>"12378945678"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 12ms (Views: 1.2ms | ActiveRecord: 3.9ms | Allocations: 2847)


Started POST "/students" for ::1 at 2022-12-10 17:10:31 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"Maria", "cpf"=>"12378945678", "birth_date"=>"1988-05-18", "payment_method"=>"credit_card", "student"=>{"name"=>"Maria", "cpf"=>"12378945678", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Create (0.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Maria"], ["cpf", "12378945678"], ["birthdate", nil], ["payment_method", "credit_card"], ["created_at", "2022-12-10 20:10:31.195305"], ["updated_at", "2022-12-10 20:10:31.195305"]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 201 Created in 19ms (Views: 0.7ms | ActiveRecord: 1.8ms | Allocations: 3595)


Started POST "/students" for ::1 at 2022-12-10 17:10:56 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945678", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card", "student"=>{"name"=>"João", "cpf"=>"12378945678", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945678"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 8ms (Views: 0.7ms | ActiveRecord: 1.2ms | Allocations: 2530)


Started POST "/students" for ::1 at 2022-12-10 17:11:01 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"1237894567", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card", "student"=>{"name"=>"João", "cpf"=>"1237894567", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "1237894567"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 9ms (Views: 0.8ms | ActiveRecord: 3.5ms | Allocations: 2506)


Started POST "/students" for ::1 at 2022-12-10 17:11:15 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"", "student"=>{"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>""}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945679"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 422 Unprocessable Entity in 7ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 2734)


Started POST "/students" for ::1 at 2022-12-10 17:11:22 -0300
Processing by StudentsController#create as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945679"], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "João"], ["cpf", "12378945679"], ["birthdate", "1988-05-18"], ["payment_method", "boleto"], ["created_at", "2022-12-10 20:11:22.514488"], ["updated_at", "2022-12-10 20:11:22.514488"]]
  ↳ app/controllers/students_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/students_controller.rb:20:in `create'
Completed 201 Created in 9ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 2985)


Started GET "/students" for ::1 at 2022-12-10 17:11:27 -0300
Processing by StudentsController#index as */*
  Parameters: {"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"João", "cpf"=>"12378945679", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/students_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 1086)


Started POST "/enrollments" for ::1 at 2022-12-10 17:13:39 -0300
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started POST "/enrollments" for ::1 at 2022-12-10 17:14:40 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/enrollments" for ::1 at 2022-12-10 17:15:09 -0300
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/enrollments" for ::1 at 2022-12-10 17:17:14 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/enrollment.rb:7:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/enrollments" for ::1 at 2022-12-10 17:18:36 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 14ms (Views: 1.9ms | ActiveRecord: 2.3ms | Allocations: 20252)


Started POST "/enrollments" for ::1 at 2022-12-10 17:18:46 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
[31mUnpermitted parameter: :student_id. Context: { controller: EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fc5f4a1d170>, params: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "controller"=>"enrollments", "action"=>"create", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}} }[0m
Completed 422 Unprocessable Entity in 32ms (Views: 2.6ms | ActiveRecord: 2.3ms | Allocations: 22293)


Started GET "/students" for ::1 at 2022-12-10 17:18:59 -0300
Processing by StudentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/students_controller.rb:8:in `index'
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 2.8ms | Allocations: 15981)


Started GET "/students/1" for ::1 at 2022-12-10 17:19:05 -0300
Processing by StudentsController#show as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "id"=>"1", "student"=>{}}
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/students_controller.rb:44:in `set_student'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 2745)


Started POST "/enrollments" for ::1 at 2022-12-10 17:19:24 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
[31mUnpermitted parameter: :student_id. Context: { controller: EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fc5e8ac6380>, params: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "controller"=>"enrollments", "action"=>"create", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}} }[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 854)


Started POST "/enrollments" for ::1 at 2022-12-10 17:19:29 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
[31mUnpermitted parameter: :student_id. Context: { controller: EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fc5f4fc23c8>, params: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "controller"=>"enrollments", "action"=>"create", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}} }[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 754)


Started POST "/enrollments" for ::1 at 2022-12-10 17:21:03 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:21:03.977921"], ["updated_at", "2022-12-10 20:21:03.977921"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 104ms (ActiveRecord: 9.1ms | Allocations: 70069)


  
NameError (undefined local variable or method `full_price' for #<Enrollment id: nil, amount: 1000, installments: 4, due_day: 5, created_at: "2022-12-10 20:21:03.977921000 +0000", updated_at: "2022-12-10 20:21:03.977921000 +0000", student_id: 1>):
  
app/models/enrollment.rb:37:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 17:22:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:22:13.320089"], ["updated_at", "2022-12-10 20:22:13.320089"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 108ms (ActiveRecord: 11.6ms | Allocations: 83620)


  
NoMethodError (undefined method `payment_method' for #<Bill id: nil, amount: 1, due_date: "2023-02-05", status: "open", created_at: nil, updated_at: nil, enrollment_id: 2>):
  
app/models/enrollment.rb:36:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 17:24:11 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:24:11.285483"], ["updated_at", "2022-12-10 20:24:11.285483"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 104ms (ActiveRecord: 12.2ms | Allocations: 83621)


  
NoMethodError (undefined method `payment_method' for #<Bill id: nil, amount: 250, due_date: "2023-02-05", status: "open", created_at: nil, updated_at: nil, enrollment_id: 3>):
  
app/models/enrollment.rb:36:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started GET "/enrollments" for ::1 at 2022-12-10 17:25:01 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms | Allocations: 1061)


Started GET "/bills" for ::1 at 2022-12-10 17:25:08 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 973)


Started GET "/enrollments" for ::1 at 2022-12-10 17:25:18 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 681)


Started POST "/enrollments" for ::1 at 2022-12-10 17:25:27 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (7.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:25:27.106910"], ["updated_at", "2022-12-10 20:25:27.106910"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 8.9ms | Allocations: 6569)


  
NoMethodError (undefined method `payment_method' for #<Bill id: nil, amount: 250, due_date: "2023-02-10", status: "open", created_at: nil, updated_at: nil, enrollment_id: 4>):
  
app/models/enrollment.rb:36:in `create_bills'
app/controllers/enrollments_controller.rb:20:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 17:30:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:30:13.562531"], ["updated_at", "2022-12-10 20:30:13.562531"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.588827"], ["updated_at", "2022-12-10 20:30:13.588827"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.592389"], ["updated_at", "2022-12-10 20:30:13.592389"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.598685"], ["updated_at", "2022-12-10 20:30:13.598685"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 20:30:13.602360"], ["updated_at", "2022-12-10 20:30:13.602360"], ["enrollment_id", 5]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 111ms (Views: 0.9ms | ActiveRecord: 18.7ms | Allocations: 84994)


Started GET "/enrollments" for ::1 at 2022-12-10 17:30:21 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 1107)


Started GET "/bills" for ::1 at 2022-12-10 17:30:27 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 1478)


Started POST "/enrollments" for ::1 at 2022-12-10 17:31:23 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:31:23.651437"], ["updated_at", "2022-12-10 20:31:23.651437"], ["student_id", 2]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.655013"], ["updated_at", "2022-12-10 20:31:23.655013"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (1.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.657862"], ["updated_at", "2022-12-10 20:31:23.657862"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.661842"], ["updated_at", "2022-12-10 20:31:23.661842"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-05"], ["status", "open"], ["created_at", "2022-12-10 20:31:23.665085"], ["updated_at", "2022-12-10 20:31:23.665085"], ["enrollment_id", 6]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 7529)


Started GET "/bills" for ::1 at 2022-12-10 17:31:36 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms | Allocations: 1545)


Started GET "/enrollments" for ::1 at 2022-12-10 17:32:29 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 876)


Started DELETE "/enrollments/5" for ::1 at 2022-12-10 17:32:38 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "id"=>"5", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 5]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 27ms (ActiveRecord: 11.4ms | Allocations: 6236)


Started DELETE "/enrollments/6" for ::1 at 2022-12-10 17:32:44 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "id"=>"6", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 6]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 34ms (ActiveRecord: 5.3ms | Allocations: 5677)


Started GET "/bills" for ::1 at 2022-12-10 17:32:52 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 680)


Started POST "/enrollments" for ::1 at 2022-12-10 17:50:48 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (1.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 20:50:48.169903"], ["updated_at", "2022-12-10 20:50:48.169903"], ["student_id", 2]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (1.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.174062"], ["updated_at", "2022-12-10 20:50:48.174062"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (2.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.178373"], ["updated_at", "2022-12-10 20:50:48.178373"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.183105"], ["updated_at", "2022-12-10 20:50:48.183105"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-05"], ["status", "open"], ["created_at", "2022-12-10 20:50:48.188724"], ["updated_at", "2022-12-10 20:50:48.188724"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 41ms (Views: 0.5ms | ActiveRecord: 13.5ms | Allocations: 10299)


Started PUT "/enrollments/7" for ::1 at 2022-12-10 17:51:16 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>6, "student_id"=>2, "id"=>"7", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>6, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 6], ["updated_at", "2022-12-10 20:51:16.932305"], ["id", 7]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.935596"], ["updated_at", "2022-12-10 20:51:16.935596"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.938639"], ["updated_at", "2022-12-10 20:51:16.938639"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.943348"], ["updated_at", "2022-12-10 20:51:16.943348"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-06"], ["status", "open"], ["created_at", "2022-12-10 20:51:16.946574"], ["updated_at", "2022-12-10 20:51:16.946574"], ["enrollment_id", 7]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 7973)


Started GET "/bills" for ::1 at 2022-12-10 17:51:23 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>6, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.4ms | Allocations: 1545)


Started POST "/enrollments" for ::1 at 2022-12-10 17:53:16 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>6, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>6, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (1.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 6], ["created_at", "2022-12-10 20:53:17.148503"], ["updated_at", "2022-12-10 20:53:17.148503"], ["student_id", 2]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.165004"], ["updated_at", "2022-12-10 20:53:17.165004"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.168888"], ["updated_at", "2022-12-10 20:53:17.168888"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (3.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.172266"], ["updated_at", "2022-12-10 20:53:17.172266"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-06"], ["status", "open"], ["created_at", "2022-12-10 20:53:17.178655"], ["updated_at", "2022-12-10 20:53:17.178655"], ["enrollment_id", 8]]
  ↳ app/models/enrollment.rb:36:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 146ms (Views: 0.4ms | ActiveRecord: 18.5ms | Allocations: 18550)


Started PUT "/enrollments/8" for ::1 at 2022-12-10 17:53:41 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2, "id"=>"8", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 20:53:41.125698"], ["id", 8]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 4.7ms | Allocations: 3902)


Started GET "/bills" for ::1 at 2022-12-10 17:53:47 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.3ms | Allocations: 2312)


Started GET "/enrollments" for ::1 at 2022-12-10 17:54:17 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 895)


Started POST "/enrollments" for ::1 at 2022-12-10 17:55:56 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:55:56.756988"], ["updated_at", "2022-12-10 20:55:56.756988"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.771169"], ["updated_at", "2022-12-10 20:55:56.771169"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.774651"], ["updated_at", "2022-12-10 20:55:56.774651"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.777423"], ["updated_at", "2022-12-10 20:55:56.777423"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 20:55:56.780482"], ["updated_at", "2022-12-10 20:55:56.780482"], ["enrollment_id", 9]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 48ms (Views: 0.6ms | ActiveRecord: 11.1ms | Allocations: 18382)


Started GET "/enrollments" for ::1 at 2022-12-10 17:56:01 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms | Allocations: 1090)


Started POST "/enrollments" for ::1 at 2022-12-10 17:56:18 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 20], ["created_at", "2022-12-10 20:56:18.156739"], ["updated_at", "2022-12-10 20:56:18.156739"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-01-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.159681"], ["updated_at", "2022-12-10 20:56:18.159681"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.162962"], ["updated_at", "2022-12-10 20:56:18.162962"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.166072"], ["updated_at", "2022-12-10 20:56:18.166072"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-20"], ["status", "open"], ["created_at", "2022-12-10 20:56:18.169079"], ["updated_at", "2022-12-10 20:56:18.169079"], ["enrollment_id", 10]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 21ms (Views: 0.5ms | ActiveRecord: 3.0ms | Allocations: 7371)


Started GET "/enrollments" for ::1 at 2022-12-10 17:56:22 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 1036)


Started DELETE "/enrollments/7" for ::1 at 2022-12-10 17:57:12 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"7", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 7]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 10]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 11]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 13]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 14]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 15]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 16]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 45ms (ActiveRecord: 9.9ms | Allocations: 15283)


Started DELETE "/enrollments/8" for ::1 at 2022-12-10 17:57:16 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"8", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.5ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 8]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 17]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 19]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 20]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 29ms (ActiveRecord: 12.1ms | Allocations: 5706)


Started DELETE "/enrollments/9" for ::1 at 2022-12-10 17:57:20 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"9", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 9]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 22]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 23]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 24]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 23ms (ActiveRecord: 8.6ms | Allocations: 5673)


Started DELETE "/enrollments/10" for ::1 at 2022-12-10 17:57:25 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "id"=>"10", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (2.7ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 10]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 25]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 26]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 27]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 28]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 10]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 5.4ms | Allocations: 5673)


Started GET "/enrollments" for ::1 at 2022-12-10 17:57:31 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 768)


Started POST "/enrollments" for ::1 at 2022-12-10 17:57:40 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 20], ["created_at", "2022-12-10 20:57:40.891160"], ["updated_at", "2022-12-10 20:57:40.891160"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-01-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.894474"], ["updated_at", "2022-12-10 20:57:40.894474"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (6.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.897927"], ["updated_at", "2022-12-10 20:57:40.897927"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.907900"], ["updated_at", "2022-12-10 20:57:40.907900"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (1.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-20"], ["status", "open"], ["created_at", "2022-12-10 20:57:40.911775"], ["updated_at", "2022-12-10 20:57:40.911775"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 56ms (Views: 0.7ms | ActiveRecord: 16.5ms | Allocations: 12365)


Started GET "/enrollments" for ::1 at 2022-12-10 17:57:45 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>20, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 805)


Started POST "/enrollments" for ::1 at 2022-12-10 17:57:59 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (3.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 20:57:59.030494"], ["updated_at", "2022-12-10 20:57:59.030494"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.038105"], ["updated_at", "2022-12-10 20:57:59.038105"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.041441"], ["updated_at", "2022-12-10 20:57:59.041441"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.044409"], ["updated_at", "2022-12-10 20:57:59.044409"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 20:57:59.047481"], ["updated_at", "2022-12-10 20:57:59.047481"], ["enrollment_id", 12]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 31ms (Views: 0.5ms | ActiveRecord: 11.5ms | Allocations: 7390)


Started GET "/enrollments" for ::1 at 2022-12-10 17:58:07 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 861)


Started GET "/bills" for ::1 at 2022-12-10 17:58:31 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.9ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.9ms | Allocations: 1870)


Started GET "/enrollments" for ::1 at 2022-12-10 18:00:16 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 3.4ms | Allocations: 2813)


Started DELETE "/enrollments/12" for ::1 at 2022-12-10 18:00:28 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"12", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 12]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 33]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 34]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 35]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 36]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (1.1ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 36ms (ActiveRecord: 12.0ms | Allocations: 10609)


Started GET "/enrollments/11" for ::1 at 2022-12-10 18:00:39 -0300
Processing by EnrollmentsController#show as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 724)


Started POST "/enrollments/11" for ::1 at 2022-12-10 18:00:53 -0300
  
ActionController::RoutingError (No route matches [POST] "/enrollments/11"):
  
Started GET "/enrollments/11" for ::1 at 2022-12-10 18:01:10 -0300
Processing by EnrollmentsController#show as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 3.6ms | Allocations: 2768)


Started PUT "/enrollments/11" for ::1 at 2022-12-10 18:01:23 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (1.1ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 21:01:23.710330"], ["id", 11]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 29]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (4.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 31]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 32]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.741610"], ["updated_at", "2022-12-10 21:01:23.741610"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (7.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.749505"], ["updated_at", "2022-12-10 21:01:23.749505"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.759440"], ["updated_at", "2022-12-10 21:01:23.759440"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:01:23.762296"], ["updated_at", "2022-12-10 21:01:23.762296"], ["enrollment_id", 11]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 25.5ms | Allocations: 20087)


Started GET "/enrollments" for ::1 at 2022-12-10 18:01:31 -0300
Processing by EnrollmentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/enrollments_controller.rb:8:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms | Allocations: 820)


Started GET "/bills" for ::1 at 2022-12-10 18:01:42 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (1.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 1.1ms | Allocations: 1446)


Started DELETE "/enrollments/11" for ::1 at 2022-12-10 18:02:09 -0300
Processing by EnrollmentsController#destroy as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"11", "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Load (1.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 11]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 37]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 38]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 39]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 40]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 11]]
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:38:in `destroy'
Completed 204 No Content in 18ms (ActiveRecord: 4.5ms | Allocations: 5799)


Started GET "/bills" for ::1 at 2022-12-10 18:02:15 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 680)


Started POST "/enrollments" for ::1 at 2022-12-10 18:02:30 -0300
Processing by EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>2000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 4], ["due_day", 10], ["created_at", "2022-12-10 21:02:30.685317"], ["updated_at", "2022-12-10 21:02:30.685317"], ["student_id", 1]]
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
  [1m[36mBill Create (1.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.689046"], ["updated_at", "2022-12-10 21:02:30.689046"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (3.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.693662"], ["updated_at", "2022-12-10 21:02:30.693662"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.700322"], ["updated_at", "2022-12-10 21:02:30.700322"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:30.703207"], ["updated_at", "2022-12-10 21:02:30.703207"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:20:in `create'
Completed 201 Created in 30ms (Views: 0.6ms | ActiveRecord: 7.6ms | Allocations: 7551)


Started PUT "/enrollments/13" for ::1 at 2022-12-10 18:02:51 -0300
Processing by EnrollmentsController#update as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "id"=>"13", "enrollment"=>{"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (2.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:44:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "installments" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["installments", 5], ["updated_at", "2022-12-10 21:02:51.682293"], ["id", 13]]
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 41]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 42]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 43]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 44]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.694346"], ["updated_at", "2022-12-10 21:02:51.694346"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.697627"], ["updated_at", "2022-12-10 21:02:51.697627"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.701603"], ["updated_at", "2022-12-10 21:02:51.701603"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.704737"], ["updated_at", "2022-12-10 21:02:51.704737"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 400], ["due_date", "2023-06-10"], ["status", "open"], ["created_at", "2022-12-10 21:02:51.707740"], ["updated_at", "2022-12-10 21:02:51.707740"], ["enrollment_id", 13]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/enrollments_controller.rb:29:in `update'
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 8.2ms | Allocations: 11604)


Started GET "/bills" for ::1 at 2022-12-10 18:03:03 -0300
Processing by BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/bills_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms | Allocations: 1224)


Started GET "/bills" for ::1 at 2022-12-10 18:09:38 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/bills"):
  
Started GET "/bills" for ::1 at 2022-12-10 18:10:56 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/bills"):
  
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:13:12 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 27ms (Views: 11.2ms | ActiveRecord: 4.4ms | Allocations: 36862)


Started GET "/api/v1/students" for ::1 at 2022-12-10 18:16:00 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 3.4ms | Allocations: 15841)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:24:14 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>5, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 11.8ms | Allocations: 3258)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:25:10 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:25:10.409284"], ["updated_at", "2022-12-10 21:25:10.409284"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:25:10.417737"], ["updated_at", "2022-12-10 21:25:10.417737"], ["enrollment_id", 14]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:25:10.421005"], ["updated_at", "2022-12-10 21:25:10.421005"], ["enrollment_id", 14]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 8.7ms | Allocations: 28138)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f4d8>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:07 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:26:07.421501"], ["updated_at", "2022-12-10 21:26:07.421501"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:07.424691"], ["updated_at", "2022-12-10 21:26:07.424691"], ["enrollment_id", 15]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:07.428135"], ["updated_at", "2022-12-10 21:26:07.428135"], ["enrollment_id", 15]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.2ms | Allocations: 6451)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f640>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:11 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 1107)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:21 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (5.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:26:21.837400"], ["updated_at", "2022-12-10 21:26:21.837400"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.9ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:21.846532"], ["updated_at", "2022-12-10 21:26:21.846532"], ["enrollment_id", 16]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:26:21.850916"], ["updated_at", "2022-12-10 21:26:21.850916"], ["enrollment_id", 16]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 10.6ms | Allocations: 6377)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f758>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:26:42 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:26:42.766996"], ["updated_at", "2022-12-10 21:26:42.766996"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:26:42.770100"], ["updated_at", "2022-12-10 21:26:42.770100"], ["enrollment_id", 17]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:26:42.772898"], ["updated_at", "2022-12-10 21:26:42.772898"], ["enrollment_id", 17]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.3ms | Allocations: 6372)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f898>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:27:31 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.3ms | Allocations: 1123)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:27:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:27:37.147014"], ["updated_at", "2022-12-10 21:27:37.147014"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:27:37.150748"], ["updated_at", "2022-12-10 21:27:37.150748"], ["enrollment_id", 18]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:27:37.153922"], ["updated_at", "2022-12-10 21:27:37.153922"], ["enrollment_id", 18]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.2ms | Allocations: 6379)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000fa00>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/enrollments" for ::1 at 2022-12-10 18:27:52 -0300
  
ActionController::RoutingError (No route matches [POST] "/enrollments"):
  
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:28:05 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 1210)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:28:09 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (5.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 21:28:09.777763"], ["updated_at", "2022-12-10 21:28:09.777763"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 21:28:09.788290"], ["updated_at", "2022-12-10 21:28:09.788290"], ["enrollment_id", 19]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 21:28:09.791609"], ["updated_at", "2022-12-10 21:28:09.791609"], ["enrollment_id", 19]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 7.0ms | Allocations: 6372)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000fb40>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/students" for ::1 at 2022-12-10 18:28:30 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 916)


Started GET "/api/v1/students" for ::1 at 2022-12-10 18:29:07 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 912)


Started POST "/api/v1/students" for ::1 at 2022-12-10 18:29:11 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Raissa"], ["cpf", "12378945688"], ["birthdate", "1988-05-18"], ["payment_method", "boleto"], ["created_at", "2022-12-10 21:29:11.950448"], ["updated_at", "2022-12-10 21:29:11.950448"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.0ms | Allocations: 4557)


  
NoMethodError (undefined method `student_url' for #<Api::V1::StudentsController:0x0000000000fcf8>):
  
app/controllers/api/v1/students_controller.rb:23:in `create'
Started POST "/api/v1/students" for ::1 at 2022-12-10 18:30:50 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.7ms | Allocations: 40673)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/students_controller.rb:25:in `create'
Started POST "/api/v1/students" for ::1 at 2022-12-10 18:31:28 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 422 Unprocessable Entity in 34ms (Views: 3.5ms | ActiveRecord: 4.2ms | Allocations: 41566)


Started GET "/api/v1/students" for ::1 at 2022-12-10 18:31:35 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms | Allocations: 1476)


Started DELETE "/api/v1/students/3" for ::1 at 2022-12-10 18:31:54 -0300
Processing by Api::V1::StudentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"3", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:46:in `set_student'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:40:in `destroy'
  [1m[36mStudent Destroy (0.8ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/api/v1/students_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:40:in `destroy'
Completed 204 No Content in 8ms (ActiveRecord: 2.0ms | Allocations: 2424)


Started POST "/api/v1/students/" for ::1 at 2022-12-10 18:32:02 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945688"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Raissa"], ["cpf", "12378945688"], ["birthdate", "1988-05-18"], ["payment_method", "boleto"], ["created_at", "2022-12-10 21:32:02.978781"], ["updated_at", "2022-12-10 21:32:02.978781"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.7ms | Allocations: 4537)


  
NoMethodError (undefined method `student_url' for #<Api::V1::StudentsController:0x0000000000a500>):
  
app/controllers/api/v1/students_controller.rb:23:in `create'
Started GET "/api/v1/students/" for ::1 at 2022-12-10 18:32:08 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "student"=>{"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 1045)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:32:42 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 4.0ms | Allocations: 16200)


Started DELETE "/api/v1/enrollments/13" for ::1 at 2022-12-10 18:33:13 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"13", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 13]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 45]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 46]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 47]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 48]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 49]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 13]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 76ms (ActiveRecord: 7.6ms | Allocations: 29211)


Started DELETE "/api/v1/enrollments/14" for ::1 at 2022-12-10 18:33:18 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"14", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.6ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 14]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 50]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 51]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 14]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 9.2ms | Allocations: 4336)


Started DELETE "/api/v1/enrollments/15" for ::1 at 2022-12-10 18:33:20 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"15", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 15]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 52]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 53]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.7ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 15]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 16ms (ActiveRecord: 4.1ms | Allocations: 4242)


Started DELETE "/api/v1/enrollments/16" for ::1 at 2022-12-10 18:33:23 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"16", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 16]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 54]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 16]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 8.4ms | Allocations: 4243)


Started DELETE "/api/v1/enrollments/17" for ::1 at 2022-12-10 18:33:26 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"17", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 17]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.0ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 17]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 17ms (ActiveRecord: 5.0ms | Allocations: 4244)


Started DELETE "/api/v1/enrollments/18" for ::1 at 2022-12-10 18:33:29 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"18", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 18]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 59]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 12ms (ActiveRecord: 2.8ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/19" for ::1 at 2022-12-10 18:33:32 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "id"=>"19", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (2.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 19]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 60]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 61]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 19]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 15ms (ActiveRecord: 4.3ms | Allocations: 4240)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:33:38 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Raissa", "cpf"=>"12378945688", "birthdate"=>"1988-05-18", "payment_method"=>"boleto", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 722)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:34:32 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 2], ["created_at", "2022-12-10 21:34:32.852980"], ["updated_at", "2022-12-10 21:34:32.852980"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.856976"], ["updated_at", "2022-12-10 21:34:32.856976"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.861733"], ["updated_at", "2022-12-10 21:34:32.861733"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.864725"], ["updated_at", "2022-12-10 21:34:32.864725"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-02"], ["status", "open"], ["created_at", "2022-12-10 21:34:32.867638"], ["updated_at", "2022-12-10 21:34:32.867638"], ["enrollment_id", 20]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 3.3ms | Allocations: 9494)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000ad98>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:34:37 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.3ms | Allocations: 778)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:35:11 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 1444)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:36:34 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 3.4ms | Allocations: 2787)


Started DELETE "/api/v1/enrollments/20" for ::1 at 2022-12-10 18:36:42 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "id"=>"20", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (1.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 20]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 63]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 64]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 65]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 20]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 32ms (ActiveRecord: 6.4ms | Allocations: 10623)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:36:50 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 2], ["created_at", "2022-12-10 21:36:50.238376"], ["updated_at", "2022-12-10 21:36:50.238376"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.244994"], ["updated_at", "2022-12-10 21:36:50.244994"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.248914"], ["updated_at", "2022-12-10 21:36:50.248914"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.251570"], ["updated_at", "2022-12-10 21:36:50.251570"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-02"], ["status", "open"], ["created_at", "2022-12-10 21:36:50.254543"], ["updated_at", "2022-12-10 21:36:50.254543"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.5ms | Allocations: 13452)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000ff00>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:37:31 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 810)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:37:40 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>2, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 1445)


Started POST "/api/v1/enrollments/21" for ::1 at 2022-12-10 18:38:08 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/enrollments/21"):
  
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:38:16 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms | Allocations: 1117)


Started GET "/api/v1/enrollmens" for ::1 at 2022-12-10 18:38:27 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/enrollmens"):
  
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:38:30 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 775)


Started PUT "/api/v1/enrollments/21" for ::1 at 2022-12-10 18:38:44 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "id"=>"21", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 21:38:45.003078"], ["id", 21]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 66]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 67]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 68]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 69]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.016622"], ["updated_at", "2022-12-10 21:38:45.016622"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.020003"], ["updated_at", "2022-12-10 21:38:45.020003"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.022866"], ["updated_at", "2022-12-10 21:38:45.022866"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-05-10"], ["status", "open"], ["created_at", "2022-12-10 21:38:45.025617"], ["updated_at", "2022-12-10 21:38:45.025617"], ["enrollment_id", 21]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 10861)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:38:52 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (4.6ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 9ms (Views: 2.2ms | ActiveRecord: 4.6ms | Allocations: 1117)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:39:56 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:39:56.261261"], ["updated_at", "2022-12-10 21:39:56.261261"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:39:56.264885"], ["updated_at", "2022-12-10 21:39:56.264885"], ["enrollment_id", 22]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:39:56.268085"], ["updated_at", "2022-12-10 21:39:56.268085"], ["enrollment_id", 22]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.1ms | Allocations: 6397)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x00000000010428>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:40:05 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>2, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 1331)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:41:28 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 21:41:28.110040"], ["updated_at", "2022-12-10 21:41:28.110040"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:41:28.123395"], ["updated_at", "2022-12-10 21:41:28.123395"], ["enrollment_id", 23]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:41:28.126746"], ["updated_at", "2022-12-10 21:41:28.126746"], ["enrollment_id", 23]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 13.3ms | Allocations: 17346)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x00000000015180>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:41:35 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms | Allocations: 1886)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:42:01 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 1081)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 18:42:11 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 1545)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:54:54 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:7:in `index'
Completed 200 OK in 36ms (Views: 16.6ms | ActiveRecord: 6.7ms | Allocations: 36617)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:55:18 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fb1b4c0c7c8>, params: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `create'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 5.5ms | Allocations: 26944)


  
NoMethodError (undefined method `erros' for #<Enrollment id: nil, amount: 500, installments: 1, due_day: 10, created_at: nil, updated_at: nil, student_id: 1>
Did you mean?  errors):
  
app/controllers/api/v1/enrollments_controller.rb:20:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 18:55:45 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:7:in `index'
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms | Allocations: 1121)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:56:21 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>1, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 422 Unprocessable Entity in 61ms (Views: 3.5ms | ActiveRecord: 7.4ms | Allocations: 61545)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 18:56:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>3, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>500, "installments"=>3, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (1.2ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 3], ["due_day", 10], ["created_at", "2022-12-10 21:56:37.323772"], ["updated_at", "2022-12-10 21:56:37.323772"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 166], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 21:56:37.356777"], ["updated_at", "2022-12-10 21:56:37.356777"], ["enrollment_id", 24]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 166], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 21:56:37.360903"], ["updated_at", "2022-12-10 21:56:37.360903"], ["enrollment_id", 24]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 166], ["due_date", "2023-04-10"], ["status", "open"], ["created_at", "2022-12-10 21:56:37.364784"], ["updated_at", "2022-12-10 21:56:37.364784"], ["enrollment_id", 24]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 6.7ms | Allocations: 27129)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000a528>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:00:21 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:00:21.301482"], ["updated_at", "2022-12-10 22:00:21.301482"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:21.319171"], ["updated_at", "2022-12-10 22:00:21.319171"], ["enrollment_id", 25]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:21.322607"], ["updated_at", "2022-12-10 22:00:21.322607"], ["enrollment_id", 25]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 16.5ms | Allocations: 17978)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000f460>
Did you mean?  enrollment_params):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:00:40 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:00:40.974510"], ["updated_at", "2022-12-10 22:00:40.974510"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:40.999696"], ["updated_at", "2022-12-10 22:00:40.999696"], ["enrollment_id", 26]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (4.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:00:41.004216"], ["updated_at", "2022-12-10 22:00:41.004216"], ["enrollment_id", 26]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 106ms (ActiveRecord: 18.2ms | Allocations: 84329)


  
NoMethodError (undefined method `enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000a488>
Did you mean?  enrollment_params):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:01:07 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:01:07.644154"], ["updated_at", "2022-12-10 22:01:07.644154"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:07.666942"], ["updated_at", "2022-12-10 22:01:07.666942"], ["enrollment_id", 27]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:07.671046"], ["updated_at", "2022-12-10 22:01:07.671046"], ["enrollment_id", 27]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 16.1ms | Allocations: 84356)


  
NoMethodError (undefined method `api_enrollment_url' for #<Api::V1::EnrollmentsController:0x0000000000a488>
Did you mean?  api_v1_enrollment_url
               api_v1_enrollments_url):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:01:46 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:01:46.750269"], ["updated_at", "2022-12-10 22:01:46.750269"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:46.780056"], ["updated_at", "2022-12-10 22:01:46.780056"], ["enrollment_id", 28]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:01:46.785569"], ["updated_at", "2022-12-10 22:01:46.785569"], ["enrollment_id", 28]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 102ms (Views: 0.4ms | ActiveRecord: 12.3ms | Allocations: 82877)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:01:53 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms | Allocations: 1717)


Started DELETE "/api/v1/enrollments/21" for ::1 at 2022-12-10 19:02:03 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"21", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 21]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 70]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 71]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 72]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 73]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 6.1ms | Allocations: 6344)


Started DELETE "/api/v1/enrollments/22" for ::1 at 2022-12-10 19:02:07 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"22", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 22]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 74]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 75]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 22]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 18ms (ActiveRecord: 7.8ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/23" for ::1 at 2022-12-10 19:02:10 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"23", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 23]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 76]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 77]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 23]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 37ms (ActiveRecord: 3.7ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/24" for ::1 at 2022-12-10 19:02:13 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"24", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 24]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 78]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 79]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 80]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 24]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 16ms (ActiveRecord: 4.2ms | Allocations: 4961)


Started DELETE "/api/v1/enrollments/25" for ::1 at 2022-12-10 19:02:16 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"25", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 25]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 81]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 82]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 25]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 13ms (ActiveRecord: 2.3ms | Allocations: 4244)


Started DELETE "/api/v1/enrollments/26" for ::1 at 2022-12-10 19:02:19 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"26", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (4.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (1.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 26]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (3.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 83]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 84]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 26]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 32ms (ActiveRecord: 19.8ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/27" for ::1 at 2022-12-10 19:02:22 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"27", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (3.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 27]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 85]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 86]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.2ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 27]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 16ms (ActiveRecord: 5.7ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/28" for ::1 at 2022-12-10 19:02:25 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"28", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (2.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 28]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 87]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 88]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 28]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 23ms (ActiveRecord: 10.5ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/29" for ::1 at 2022-12-10 19:02:27 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"29", "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 579)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=29):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:02:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 300], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:02:37.573140"], ["updated_at", "2022-12-10 22:02:37.573140"], ["student_id", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:37.579487"], ["updated_at", "2022-12-10 22:02:37.579487"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:37.584768"], ["updated_at", "2022-12-10 22:02:37.584768"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 34ms (Views: 0.4ms | ActiveRecord: 6.6ms | Allocations: 5402)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:02:42 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1, "enrollment"=>{"amount"=>300, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms | Allocations: 774)


Started PUT "/api/v1/enrollments/29" for ::1 at 2022-12-10 19:02:56 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "id"=>"29", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "amount" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["amount", 500], ["updated_at", "2022-12-10 22:02:56.524433"], ["id", 29]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 89]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 90]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:56.535745"], ["updated_at", "2022-12-10 22:02:56.535745"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 22:02:56.538457"], ["updated_at", "2022-12-10 22:02:56.538457"], ["enrollment_id", 29]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 24ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 7525)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:03:07 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 1234)


Started POST "/api/v1/students" for ::1 at 2022-12-10 19:03:20 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "student"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 329)


  
ActionController::ParameterMissing (param is missing or the value is empty: student
Did you mean?  student_id):
  
app/controllers/api/v1/students_controller.rb:51:in `student_params'
app/controllers/api/v1/students_controller.rb:20:in `create'
Started POST "/api/v1/students" for ::1 at 2022-12-10 19:03:23 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "student"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 175)


  
ActionController::ParameterMissing (param is missing or the value is empty: student
Did you mean?  student_id):
  
app/controllers/api/v1/students_controller.rb:51:in `student_params'
app/controllers/api/v1/students_controller.rb:20:in `create'
Started GET "/api/v1/students" for ::1 at 2022-12-10 19:03:28 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>10, "student_id"=>1, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms | Allocations: 1249)


Started POST "/api/v1/students" for ::1 at 2022-12-10 19:05:18 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945698"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Sara"], ["cpf", "12378945698"], ["birthdate", "1988-02-03"], ["payment_method", "credit_card"], ["created_at", "2022-12-10 22:05:18.711151"], ["updated_at", "2022-12-10 22:05:18.711151"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 201 Created in 39ms (Views: 0.5ms | ActiveRecord: 5.6ms | Allocations: 41724)


Started GET "/api/v1/students" for ::1 at 2022-12-10 19:05:23 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms | Allocations: 1487)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:07:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Sara", "cpf"=>"12378945698", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 30ms (Views: 12.9ms | ActiveRecord: 4.6ms | Allocations: 36349)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:07:55 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:07:55.943136"], ["updated_at", "2022-12-10 22:07:55.943136"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:07:55.968196"], ["updated_at", "2022-12-10 22:07:55.968196"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:07:55.972040"], ["updated_at", "2022-12-10 22:07:55.972040"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 78ms (Views: 0.4ms | ActiveRecord: 9.7ms | Allocations: 47114)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:08:06 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 1481)


Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:08:40 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>12, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>12, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.6ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 12], ["updated_at", "2022-12-10 22:08:40.818935"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 93]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 94]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-12"], ["status", "open"], ["created_at", "2022-12-10 22:08:40.828126"], ["updated_at", "2022-12-10 22:08:40.828126"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-12"], ["status", "open"], ["created_at", "2022-12-10 22:08:40.844286"], ["updated_at", "2022-12-10 22:08:40.844286"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 37ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 8204)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:08:49 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>12, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms | Allocations: 1118)


Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:09:42 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>13, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>13, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 13], ["updated_at", "2022-12-10 22:09:42.846049"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 95]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 96]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (1.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-13"], ["status", "open"], ["created_at", "2022-12-10 22:09:42.863844"], ["updated_at", "2022-12-10 22:09:42.863844"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-13"], ["status", "open"], ["created_at", "2022-12-10 22:09:42.868780"], ["updated_at", "2022-12-10 22:09:42.868780"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 50ms (Views: 0.5ms | ActiveRecord: 13.1ms | Allocations: 19077)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:09:51 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>13, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms | Allocations: 1444)


Started PUT "/api/v1/enrollments" for ::1 at 2022-12-10 19:12:00 -0300
  
ActionController::RoutingError (No route matches [PUT] "/api/v1/enrollments"):
  
Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:12:12 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 5], ["updated_at", "2022-12-10 22:12:12.584469"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:12:12.632888"], ["updated_at", "2022-12-10 22:12:12.632888"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 500 Internal Server Error in 109ms (ActiveRecord: 2.8ms | Allocations: 6729)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/models/enrollment.rb:48:in `update_bills'
app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Started GET "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:12:28 -0300
Processing by Api::V1::EnrollmentsController#show as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (5.9ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 5.9ms | Allocations: 645)


Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:12:42 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (2.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 5], ["updated_at", "2022-12-10 22:12:42.602973"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:12:42.610704"], ["updated_at", "2022-12-10 22:12:42.610704"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 6.1ms | Allocations: 6475)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/models/enrollment.rb:48:in `update_bills'
app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Started PUT "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:13:03 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 2], ["updated_at", "2022-12-10 22:13:03.227055"], ["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (1.9ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (2.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Destroy (2.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/models/enrollment.rb:47:in `map'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2022-12-02"], ["status", "open"], ["created_at", "2022-12-10 22:13:03.240614"], ["updated_at", "2022-12-10 22:13:03.240614"], ["enrollment_id", 30]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 13.8ms | Allocations: 6471)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/models/enrollment.rb:48:in `update_bills'
app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:14:19 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>2, "student_id"=>4}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 5.9ms | Allocations: 2873)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:14:36 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:14:36.740460"], ["updated_at", "2022-12-10 22:14:36.740460"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-01-11"], ["status", "open"], ["created_at", "2022-12-10 22:14:36.752589"], ["updated_at", "2022-12-10 22:14:36.752589"], ["enrollment_id", 31]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:14:36.756984"], ["updated_at", "2022-12-10 22:14:36.756984"], ["enrollment_id", 31]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 41ms (Views: 0.4ms | ActiveRecord: 8.3ms | Allocations: 14618)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:14:45 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 1672)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:15:25 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (2.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:15:25.496504"], ["updated_at", "2022-12-10 22:15:25.496504"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:15:25.512019"], ["updated_at", "2022-12-10 22:15:25.512019"], ["enrollment_id", 32]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-11"], ["status", "open"], ["created_at", "2022-12-10 22:15:25.515333"], ["updated_at", "2022-12-10 22:15:25.515333"], ["enrollment_id", 32]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 46ms (Views: 0.4ms | ActiveRecord: 16.6ms | Allocations: 16309)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:15:34 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms | Allocations: 1886)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:16:06 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:16:06.468446"], ["updated_at", "2022-12-10 22:16:06.468446"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:16:06.498187"], ["updated_at", "2022-12-10 22:16:06.498187"], ["enrollment_id", 33]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 50], ["due_date", "2023-03-11"], ["status", "open"], ["created_at", "2022-12-10 22:16:06.501365"], ["updated_at", "2022-12-10 22:16:06.501365"], ["enrollment_id", 33]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 103ms (Views: 0.3ms | ActiveRecord: 13.0ms | Allocations: 82881)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:16:14 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>100, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>100}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms | Allocations: 2161)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:17:05 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:17:05.286454"], ["updated_at", "2022-12-10 22:17:05.286454"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-01-11"], ["status", "open"], ["created_at", "2022-12-10 22:17:05.321083"], ["updated_at", "2022-12-10 22:17:05.321083"], ["enrollment_id", 34]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:17:05.325274"], ["updated_at", "2022-12-10 22:17:05.325274"], ["enrollment_id", 34]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 108ms (Views: 0.5ms | ActiveRecord: 14.4ms | Allocations: 82879)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:17:12 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>150}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.4ms | Allocations: 2376)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:18:17 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 11], ["created_at", "2022-12-10 22:18:17.692168"], ["updated_at", "2022-12-10 22:18:17.692168"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-01-11"], ["status", "open"], ["created_at", "2022-12-10 22:18:17.706940"], ["updated_at", "2022-12-10 22:18:17.706940"], ["enrollment_id", 35]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-02-11"], ["status", "open"], ["created_at", "2022-12-10 22:18:17.709602"], ["updated_at", "2022-12-10 22:18:17.709602"], ["enrollment_id", 35]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 45ms (Views: 0.4ms | ActiveRecord: 13.6ms | Allocations: 16339)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:18:25 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "bill"=>{"amount"=>150}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 2529)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:28:55 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 44ms (Views: 29.6ms | ActiveRecord: 4.0ms | Allocations: 36873)


Started DELETE "/api/v1/enrollments/30" for ::1 at 2022-12-10 19:29:09 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"30", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 97]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 98]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 30]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 54ms (ActiveRecord: 6.0ms | Allocations: 27447)


Started DELETE "/api/v1/enrollments/31" for ::1 at 2022-12-10 19:29:12 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"31", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 31]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 102]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 103]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 31]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 7.8ms | Allocations: 4354)


Started DELETE "/api/v1/enrollments/32" for ::1 at 2022-12-10 19:29:16 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"32", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 32]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 104]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 105]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 32]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 7.7ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/33" for ::1 at 2022-12-10 19:29:19 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"33", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.9ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 33]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 106]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 107]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 33]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 25ms (ActiveRecord: 9.8ms | Allocations: 4258)


Started DELETE "/api/v1/enrollments/34" for ::1 at 2022-12-10 19:29:22 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"34", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 34]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 108]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 109]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 34]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 23ms (ActiveRecord: 11.1ms | Allocations: 4243)


Started DELETE "/api/v1/enrollments/35" for ::1 at 2022-12-10 19:29:26 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"35", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 35]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 110]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 111]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 35]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 26ms (ActiveRecord: 9.7ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/36" for ::1 at 2022-12-10 19:29:30 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4, "id"=>"36", "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>11, "student_id"=>4}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms | Allocations: 579)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=36):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:29:52 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:29:53.037164"], ["updated_at", "2022-12-10 22:29:53.037164"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:29:53.041798"], ["updated_at", "2022-12-10 22:29:53.041798"], ["enrollment_id", 36]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 5.2ms | Allocations: 23664)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:30:25 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.2ms | Allocations: 819)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:31:40 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 50ms (Views: 16.9ms | ActiveRecord: 3.2ms | Allocations: 36347)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:31:47 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (1.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:31:47.707925"], ["updated_at", "2022-12-10 22:31:47.707925"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:31:47.740271"], ["updated_at", "2022-12-10 22:31:47.740271"], ["enrollment_id", 37]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 74ms (ActiveRecord: 15.5ms | Allocations: 45127)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:32:35 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (1.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 150], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:32:35.727063"], ["updated_at", "2022-12-10 22:32:35.727063"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-01-12"], ["status", "open"], ["created_at", "2022-12-10 22:32:35.731372"], ["updated_at", "2022-12-10 22:32:35.731372"], ["enrollment_id", 38]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (1.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 75], ["due_date", "2023-02-12"], ["status", "open"], ["created_at", "2022-12-10 22:32:35.736983"], ["updated_at", "2022-12-10 22:32:35.736983"], ["enrollment_id", 38]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 27ms (Views: 0.3ms | ActiveRecord: 5.3ms | Allocations: 5487)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:32:44 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 874)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:32:50 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>150, "installments"=>2, "due_day"=>12, "student_id"=>2, "bill"=>{"amount"=>150}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms | Allocations: 1463)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:34:01 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>200, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>200, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 200], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:34:01.662363"], ["updated_at", "2022-12-10 22:34:01.662363"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 100], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:34:01.676367"], ["updated_at", "2022-12-10 22:34:01.676367"], ["enrollment_id", 39]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 9.0ms | Allocations: 15216)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:38:25 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:38:25.924771"], ["updated_at", "2022-12-10 22:38:25.924771"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-05"], ["status", "open"], ["created_at", "2022-12-10 22:38:25.938104"], ["updated_at", "2022-12-10 22:38:25.938104"], ["enrollment_id", 40]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 9.7ms | Allocations: 15181)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:39:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:39:44 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (2.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:39:44.442502"], ["updated_at", "2022-12-10 22:39:44.442502"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:39:44.468251"], ["updated_at", "2022-12-10 22:39:44.468251"], ["enrollment_id", 41]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:39:44.471345"], ["updated_at", "2022-12-10 22:39:44.471345"], ["enrollment_id", 41]]
  ↳ app/models/enrollment.rb:37:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 105ms (Views: 0.6ms | ActiveRecord: 16.0ms | Allocations: 82867)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:39:51 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>2000, "installments"=>2, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>2000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 1733)


Started POST "/api/v1/bills" for ::1 at 2022-12-10 19:41:42 -0300
  
AbstractController::ActionNotFound (The action 'create' could not be found for Api::V1::BillsController):
  
actionpack (7.0.4) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:41:49 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:41:49.951432"], ["updated_at", "2022-12-10 22:41:49.951432"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:41:49.963815"], ["updated_at", "2022-12-10 22:41:49.963815"], ["enrollment_id", 42]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:41:49.966531"], ["updated_at", "2022-12-10 22:41:49.966531"], ["enrollment_id", 42]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 49ms (Views: 0.4ms | ActiveRecord: 18.6ms | Allocations: 16363)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:42:17 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-10 22:42:17.664679"], ["updated_at", "2022-12-10 22:42:17.664679"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:42:17.689952"], ["updated_at", "2022-12-10 22:42:17.689952"], ["enrollment_id", 43]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:42:17.694087"], ["updated_at", "2022-12-10 22:42:17.694087"], ["enrollment_id", 43]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 95ms (Views: 0.5ms | ActiveRecord: 16.6ms | Allocations: 82866)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:42:30 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:42:30.367341"], ["updated_at", "2022-12-10 22:42:30.367341"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms | Allocations: 3259)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:40:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:43:16 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:43:16.147548"], ["updated_at", "2022-12-10 22:43:16.147548"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 9.2ms | Allocations: 11625)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:42:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:43:48 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:43:48.613269"], ["updated_at", "2022-12-10 22:43:48.613269"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 7.4ms | Allocations: 11578)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:40:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:44:48 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:44:48.279314"], ["updated_at", "2022-12-10 22:44:48.279314"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:44:48.301911"], ["updated_at", "2022-12-10 22:44:48.301911"], ["enrollment_id", 47]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:44:48.305768"], ["updated_at", "2022-12-10 22:44:48.305768"], ["enrollment_id", 47]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 51ms (Views: 0.4ms | ActiveRecord: 17.4ms | Allocations: 16298)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:45:20 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 3.9ms | Allocations: 3205)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:45:31 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:45:31.956035"], ["updated_at", "2022-12-10 22:45:31.956035"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 6.3ms | Allocations: 9852)


  
Date::Error (invalid date):
  
app/models/enrollment.rb:40:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:48:01 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:48:01.376136"], ["updated_at", "2022-12-10 22:48:01.376136"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:01.405870"], ["updated_at", "2022-12-10 22:48:01.405870"], ["enrollment_id", 49]]
  ↳ app/models/enrollment.rb:41:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:01.409164"], ["updated_at", "2022-12-10 22:48:01.409164"], ["enrollment_id", 49]]
  ↳ app/models/enrollment.rb:41:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 95ms (Views: 0.4ms | ActiveRecord: 13.9ms | Allocations: 82864)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:48:22 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (1.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:48:23.043372"], ["updated_at", "2022-12-10 22:48:23.043372"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:23.058849"], ["updated_at", "2022-12-10 22:48:23.058849"], ["enrollment_id", 50]]
  ↳ app/models/enrollment.rb:42:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:48:23.062690"], ["updated_at", "2022-12-10 22:48:23.062690"], ["enrollment_id", 50]]
  ↳ app/models/enrollment.rb:42:in `create_bills'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 49ms (Views: 0.4ms | ActiveRecord: 11.4ms | Allocations: 16340)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:18 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 10], ["created_at", "2022-12-10 22:49:18.840358"], ["updated_at", "2022-12-10 22:49:18.840358"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (2.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:49:18.855104"], ["updated_at", "2022-12-10 22:49:18.855104"], ["enrollment_id", 51]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:49:18.862525"], ["updated_at", "2022-12-10 22:49:18.862525"], ["enrollment_id", 51]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 47ms (Views: 0.7ms | ActiveRecord: 14.0ms | Allocations: 16311)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:28 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>12, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 12], ["created_at", "2022-12-10 22:49:28.284078"], ["updated_at", "2022-12-10 22:49:28.284078"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-12"], ["status", "open"], ["created_at", "2022-12-10 22:49:28.287352"], ["updated_at", "2022-12-10 22:49:28.287352"], ["enrollment_id", 52]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-12"], ["status", "open"], ["created_at", "2022-12-10 22:49:28.320345"], ["updated_at", "2022-12-10 22:49:28.320345"], ["enrollment_id", 52]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 69ms (Views: 0.6ms | ActiveRecord: 2.8ms | Allocations: 5349)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>1, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>1, "student_id"=>2}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.6ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 1], ["created_at", "2022-12-10 22:49:37.325597"], ["updated_at", "2022-12-10 22:49:37.325597"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (4.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-01"], ["status", "open"], ["created_at", "2022-12-10 22:49:37.330645"], ["updated_at", "2022-12-10 22:49:37.330645"], ["enrollment_id", 53]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-02-01"], ["status", "open"], ["created_at", "2022-12-10 22:49:37.337496"], ["updated_at", "2022-12-10 22:49:37.337496"], ["enrollment_id", 53]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 76ms (Views: 0.4ms | ActiveRecord: 12.1ms | Allocations: 5276)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:49:56 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-10 22:49:56.390128"], ["updated_at", "2022-12-10 22:49:56.390128"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:49:56.394284"], ["updated_at", "2022-12-10 22:49:56.394284"], ["enrollment_id", 54]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:49:56.397886"], ["updated_at", "2022-12-10 22:49:56.397886"], ["enrollment_id", 54]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (3.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:49:56.402986"], ["updated_at", "2022-12-10 22:49:56.402986"], ["enrollment_id", 54]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 33ms (Views: 0.3ms | ActiveRecord: 6.5ms | Allocations: 6325)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:50:10 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (3.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 3.2ms | Allocations: 2042)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:51:37 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (6.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 12ms (Views: 5.7ms | ActiveRecord: 6.2ms | Allocations: 1734)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:51:54 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-10 22:51:54.917872"], ["updated_at", "2022-12-10 22:51:54.917872"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:51:54.921238"], ["updated_at", "2022-12-10 22:51:54.921238"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (4.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:51:54.924374"], ["updated_at", "2022-12-10 22:51:54.924374"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:51:54.933242"], ["updated_at", "2022-12-10 22:51:54.933242"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 27ms (Views: 0.4ms | ActiveRecord: 7.0ms | Allocations: 6484)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:52:02 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 1820)


Started PUT "/api/v1/enrollments/55" for ::1 at 2022-12-10 19:52:28 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"55", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "installments" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["installments", 4], ["updated_at", "2022-12-10 22:52:28.374193"], ["id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 139]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 140]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 141]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.384011"], ["updated_at", "2022-12-10 22:52:28.384011"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.388269"], ["updated_at", "2022-12-10 22:52:28.388269"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.391929"], ["updated_at", "2022-12-10 22:52:28.391929"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-03-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.395069"], ["updated_at", "2022-12-10 22:52:28.395069"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.398133"], ["updated_at", "2022-12-10 22:52:28.398133"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.403590"], ["updated_at", "2022-12-10 22:52:28.403590"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.408028"], ["updated_at", "2022-12-10 22:52:28.408028"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["due_date", "2023-03-29"], ["status", "open"], ["created_at", "2022-12-10 22:52:28.411239"], ["updated_at", "2022-12-10 22:52:28.411239"], ["enrollment_id", 55]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 50ms (Views: 0.9ms | ActiveRecord: 6.7ms | Allocations: 14828)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:52:39 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.3ms | Allocations: 4553)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:53:33 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms | Allocations: 1821)


Started GET "/api/v1/enrollments/47" for ::1 at 2022-12-10 19:53:39 -0300
Processing by Api::V1::EnrollmentsController#show as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"47", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 670)


Started DELETE "/api/v1/enrollments/47" for ::1 at 2022-12-10 19:53:43 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"47", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 47]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.0ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 124]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 125]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 47]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 13ms (ActiveRecord: 3.8ms | Allocations: 4363)


Started DELETE "/api/v1/enrollments/48" for ::1 at 2022-12-10 19:53:46 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"48", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 579)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=48):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started DELETE "/api/v1/enrollments/49" for ::1 at 2022-12-10 19:53:49 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"49", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 49]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (5.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 126]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 127]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 49]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 27ms (ActiveRecord: 7.7ms | Allocations: 4241)


Started DELETE "/api/v1/enrollments/50" for ::1 at 2022-12-10 19:53:53 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"50", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 50]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 128]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 129]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (2.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 50]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 9.6ms | Allocations: 4241)


Started DELETE "/api/v1/enrollments/51" for ::1 at 2022-12-10 19:53:56 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"51", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.7ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 51]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (4.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 130]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 131]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.0ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 51]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 17ms (ActiveRecord: 8.6ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/52" for ::1 at 2022-12-10 19:53:59 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"52", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 52]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 132]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 133]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 52]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 11ms (ActiveRecord: 2.3ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/53" for ::1 at 2022-12-10 19:54:01 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"53", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 53]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 134]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 135]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.1ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 53]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 6.0ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/54" for ::1 at 2022-12-10 19:54:04 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"54", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 54]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 136]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 137]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 138]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 54]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 4.6ms | Allocations: 4956)


Started DELETE "/api/v1/enrollments/55" for ::1 at 2022-12-10 19:54:07 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"55", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 142]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (1.1ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 143]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 144]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 145]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 146]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 147]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 148]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 149]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 55]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 35ms (ActiveRecord: 10.7ms | Allocations: 8537)


Started DELETE "/api/v1/enrollments/56" for ::1 at 2022-12-10 19:54:08 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2, "id"=>"56", "enrollment"=>{"amount"=>3000, "installments"=>4, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 546)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=56):
  
app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:54:24 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 5], ["created_at", "2022-12-10 22:54:24.557360"], ["updated_at", "2022-12-10 22:54:24.557360"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:54:24.566060"], ["updated_at", "2022-12-10 22:54:24.566060"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:54:24.568935"], ["updated_at", "2022-12-10 22:54:24.568935"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:54:24.573989"], ["updated_at", "2022-12-10 22:54:24.573989"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 32ms (Views: 0.4ms | ActiveRecord: 8.4ms | Allocations: 6404)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:54:32 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.4ms | Allocations: 2081)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:54:52 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms | Allocations: 1210)


Started DELETE "/api/v1/enrollments/29" for ::1 at 2022-12-10 19:55:09 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"29", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 29]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 91]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 92]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 29]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 12ms (ActiveRecord: 2.0ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/41" for ::1 at 2022-12-10 19:55:12 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"41", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 41]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 118]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 119]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 41]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 13.4ms | Allocations: 4240)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:55:17 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 1036)


Started DELETE "/api/v1/enrollments/38" for ::1 at 2022-12-10 19:55:27 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"38", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 38]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 114]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 115]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 38]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 19ms (ActiveRecord: 2.1ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/42" for ::1 at 2022-12-10 19:55:30 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"42", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 42]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 120]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.9ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 121]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 42]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 13ms (ActiveRecord: 3.1ms | Allocations: 4240)


Started DELETE "/api/v1/enrollments/43" for ::1 at 2022-12-10 19:55:34 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"43", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 43]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 122]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 123]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (1.1ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 43]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 8.8ms | Allocations: 4240)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 19:55:41 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 774)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:55:47 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.4ms | Allocations: 1009)


Started PUT "/api/v1/enrollments/56" for ::1 at 2022-12-10 19:56:19 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "id"=>"56", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 22:56:19.388255"], ["id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 150]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 151]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 152]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.397861"], ["updated_at", "2022-12-10 22:56:19.397861"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.400935"], ["updated_at", "2022-12-10 22:56:19.400935"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.403914"], ["updated_at", "2022-12-10 22:56:19.403914"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.407063"], ["updated_at", "2022-12-10 22:56:19.407063"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.409570"], ["updated_at", "2022-12-10 22:56:19.409570"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:56:19.412312"], ["updated_at", "2022-12-10 22:56:19.412312"], ["enrollment_id", 56]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 36ms (Views: 0.4ms | ActiveRecord: 5.2ms | Allocations: 12093)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:56:26 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms | Allocations: 1331)


Started DELETE "/api/v1/enrollments/56" for ::1 at 2022-12-10 19:58:13 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "id"=>"56", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (1.0ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 153]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 154]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 155]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 156]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 157]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 158]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 56]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 82ms (ActiveRecord: 12.1ms | Allocations: 66727)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:58:21 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 10], ["created_at", "2022-12-10 22:58:21.287199"], ["updated_at", "2022-12-10 22:58:21.287199"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 22:58:21.291183"], ["updated_at", "2022-12-10 22:58:21.291183"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 22:58:21.296113"], ["updated_at", "2022-12-10 22:58:21.296113"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 22:58:21.300169"], ["updated_at", "2022-12-10 22:58:21.300169"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 48ms (Views: 0.5ms | ActiveRecord: 6.7ms | Allocations: 25197)


Started PUT "/api/v1/enrollments" for ::1 at 2022-12-10 19:58:33 -0300
  
ActionController::RoutingError (No route matches [PUT] "/api/v1/enrollments"):
  
Started PUT "/api/v1/enrollments/57" for ::1 at 2022-12-10 19:58:38 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"57", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 159]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 160]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 161]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (1.0ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.728276"], ["updated_at", "2022-12-10 22:58:38.728276"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.731892"], ["updated_at", "2022-12-10 22:58:38.731892"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.737876"], ["updated_at", "2022-12-10 22:58:38.737876"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 5], ["updated_at", "2022-12-10 22:58:38.719834"], ["id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.757837"], ["updated_at", "2022-12-10 22:58:38.757837"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.760776"], ["updated_at", "2022-12-10 22:58:38.760776"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.2ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:58:38.764070"], ["updated_at", "2022-12-10 22:58:38.764070"], ["enrollment_id", 57]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 66ms (Views: 0.4ms | ActiveRecord: 14.8ms | Allocations: 12393)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 19:58:46 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 1691)


Started DELETE "/api/v1/enrollments/57" for ::1 at 2022-12-10 19:59:19 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "id"=>"57", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Load (0.6ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 162]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 163]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 164]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 165]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (2.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 166]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 167]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mEnrollment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 57]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:40:in `destroy'
Completed 204 No Content in 109ms (ActiveRecord: 21.2ms | Allocations: 66747)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 19:59:47 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>5, "student_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 5], ["created_at", "2022-12-10 22:59:47.509510"], ["updated_at", "2022-12-10 22:59:47.509510"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 22:59:47.532605"], ["updated_at", "2022-12-10 22:59:47.532605"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 22:59:47.536460"], ["updated_at", "2022-12-10 22:59:47.536460"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 22:59:47.540135"], ["updated_at", "2022-12-10 22:59:47.540135"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 107ms (Views: 0.6ms | ActiveRecord: 15.6ms | Allocations: 83923)


Started PUT "/api/v1/enrollments/58" for ::1 at 2022-12-10 20:00:00 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "id"=>"58", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (2.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.6ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 168]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 169]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 170]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 23:00:00.546146"], ["updated_at", "2022-12-10 23:00:00.546146"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 23:00:00.551197"], ["updated_at", "2022-12-10 23:00:00.551197"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 23:00:00.556072"], ["updated_at", "2022-12-10 23:00:00.556072"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 23:00:00.534666"], ["id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 46ms (Views: 0.4ms | ActiveRecord: 12.2ms | Allocations: 9839)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 20:00:07 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>10, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (1.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 1.5ms | Allocations: 1369)


Started PUT "/api/v1/enrollments/58" for ::1 at 2022-12-10 20:00:33 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "id"=>"58", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (2.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 171]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 172]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.8ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 173]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-10 23:00:33.146029"], ["updated_at", "2022-12-10 23:00:33.146029"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-10 23:00:33.149034"], ["updated_at", "2022-12-10 23:00:33.149034"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 23:00:33.152454"], ["updated_at", "2022-12-10 23:00:33.152454"], ["enrollment_id", 58]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 29], ["updated_at", "2022-12-10 23:00:33.123971"], ["id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 53ms (Views: 0.4ms | ActiveRecord: 7.8ms | Allocations: 9185)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 20:00:39 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 1010)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:10:18 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "student"=>{}}
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 5.3ms | Allocations: 3212)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:10:54 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945611"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "José"], ["cpf", "12378945611"], ["birthdate", "1988-02-03"], ["payment_method", "credit_card"], ["created_at", "2022-12-10 23:10:54.910621"], ["updated_at", "2022-12-10 23:10:54.910621"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 201 Created in 11ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 3633)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:11:21 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"José", "cpf"=>"12378945611", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 31ms (Views: 25.9ms | ActiveRecord: 4.8ms | Allocations: 3253)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:11:42 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945613"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (3.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Luzia"], ["cpf", "12378945613"], ["birthdate", "1988-02-03"], ["payment_method", "credit_card"], ["created_at", "2022-12-10 23:11:42.886529"], ["updated_at", "2022-12-10 23:11:42.886529"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 5.3ms | Allocations: 5428)


  
NameError (undefined local variable or method `student' for #<Api::V1::StudentsController:0x000000000144d8>
Did you mean?  @student):
  
app/controllers/api/v1/students_controller.rb:23:in `create'
Started GET "/api/v1/students" for ::1 at 2022-12-10 20:25:49 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "student"=>{"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card"}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 36ms (Views: 19.7ms | ActiveRecord: 7.4ms | Allocations: 36978)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 20:26:02 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Luzia", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"credit_card", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 19ms (Views: 12.5ms | ActiveRecord: 6.9ms | Allocations: 15702)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:26:26 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945613", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945613"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 422 Unprocessable Entity in 15ms (Views: 3.0ms | ActiveRecord: 0.8ms | Allocations: 5911)


Started POST "/api/v1/students" for ::1 at 2022-12-10 20:26:32 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945614"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Ana"], ["cpf", "12378945614"], ["birthdate", "1988-02-03"], ["payment_method", "boleto"], ["created_at", "2022-12-10 23:26:32.738757"], ["updated_at", "2022-12-10 23:26:32.738757"]]
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:22:in `create'
Completed 201 Created in 12ms (Views: 0.4ms | ActiveRecord: 1.9ms | Allocations: 3573)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:26:37 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 1522)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:29:11 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 32ms (Views: 14.7ms | ActiveRecord: 4.6ms | Allocations: 37097)


Started GET "/" for 127.0.0.1 at 2022-12-10 20:29:21 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/raissacardoso/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/raissacardoso/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.1ms | Allocations: 824)
Completed 200 OK in 16ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 6497)


Started GET "/students" for 127.0.0.1 at 2022-12-10 20:29:29 -0300
  
ActionController::RoutingError (No route matches [GET] "/students"):
  
Started GET "/api/v1/students" for 127.0.0.1 at 2022-12-10 20:29:45 -0300
Processing by Api::V1::StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.7ms | Allocations: 1689)


Started GET "/api/v1/enrollments" for 127.0.0.1 at 2022-12-10 20:29:57 -0300
Processing by Api::V1::EnrollmentsController#index as HTML
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 41ms (Views: 29.3ms | ActiveRecord: 3.7ms | Allocations: 20062)


Started GET "/api/v1/bills" for 127.0.0.1 at 2022-12-10 20:30:03 -0300
Processing by Api::V1::BillsController#index as HTML
  [1m[36mBill Load (1.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 92ms (Views: 63.3ms | ActiveRecord: 13.2ms | Allocations: 18073)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:37:11 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "student"=>{"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 31ms (Views: 14.5ms | ActiveRecord: 9.2ms | Allocations: 37097)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 20:46:26 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"name"=>"Ana", "cpf"=>"12378945614", "birthdate"=>"1988-02-03", "payment_method"=>"boleto", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments"[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 36ms (Views: 17.0ms | ActiveRecord: 8.2ms | Allocations: 36349)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 20:47:07 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>12, "student_id"=>4, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>12, "student_id"=>4}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.6ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 12], ["created_at", "2022-12-10 23:47:08.022154"], ["updated_at", "2022-12-10 23:47:08.022154"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.9ms | Allocations: 27445)


  
NameError (undefined local variable or method `due_day' for CreateBills:Class):
  
app/services/create_bills.rb:6:in `<class:CreateBills>'
app/services/create_bills.rb:1:in `<main>'
app/models/enrollment.rb:13:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 20:49:06 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>12, "student_id"=>4, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>12, "student_id"=>4}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.9ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 12], ["created_at", "2022-12-10 23:49:06.552073"], ["updated_at", "2022-12-10 23:49:06.552073"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 75ms (ActiveRecord: 10.8ms | Allocations: 63063)


  
NameError (undefined local variable or method `due_day' for CreateBills:Class):
  
app/services/create_bills.rb:8:in `<class:CreateBills>'
app/services/create_bills.rb:1:in `<main>'
app/models/enrollment.rb:13:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 20:51:39 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>12, "student_id"=>4, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>12, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 12], ["created_at", "2022-12-10 23:51:39.313280"], ["updated_at", "2022-12-10 23:51:39.313280"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 500 Internal Server Error in 73ms (ActiveRecord: 9.3ms | Allocations: 62465)


  
NoMethodError (undefined method `create_bills' for CreateBills:Class):
  
app/models/enrollment.rb:13:in `create_bills'
app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 20:52:39 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>4, "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>4}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["installments", 4], ["due_day", 5], ["created_at", "2022-12-10 23:52:39.363275"], ["updated_at", "2022-12-10 23:52:39.363275"], ["student_id", 4]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-10 23:52:39.394729"], ["updated_at", "2022-12-10 23:52:39.394729"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-10 23:52:39.397766"], ["updated_at", "2022-12-10 23:52:39.397766"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-05"], ["status", "open"], ["created_at", "2022-12-10 23:52:39.399976"], ["updated_at", "2022-12-10 23:52:39.399976"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-04-05"], ["status", "open"], ["created_at", "2022-12-10 23:52:39.402387"], ["updated_at", "2022-12-10 23:52:39.402387"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:22:in `create'
Completed 201 Created in 105ms (Views: 0.4ms | ActiveRecord: 23.7ms | Allocations: 84966)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 20:52:50 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>5, "student_id"=>4, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 1840)


Started PUT "/api/v1/enrollments/62" for ::1 at 2022-12-10 20:53:22 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>4, "id"=>"62", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>4}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (3.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 177]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 178]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 179]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 180]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2022-12-10"], ["status", "open"], ["created_at", "2022-12-10 23:53:22.064940"], ["updated_at", "2022-12-10 23:53:22.064940"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-01-10"], ["status", "open"], ["created_at", "2022-12-10 23:53:22.068908"], ["updated_at", "2022-12-10 23:53:22.068908"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-10"], ["status", "open"], ["created_at", "2022-12-10 23:53:22.073322"], ["updated_at", "2022-12-10 23:53:22.073322"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-10"], ["status", "open"], ["created_at", "2022-12-10 23:53:22.077587"], ["updated_at", "2022-12-10 23:53:22.077587"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mEnrollment Update (0.4ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 10], ["updated_at", "2022-12-10 23:53:22.053023"], ["id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 43ms (Views: 0.4ms | ActiveRecord: 9.3ms | Allocations: 11492)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 20:53:34 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>10, "student_id"=>4, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 1438)


Started PUT "/api/v1/enrollments/62" for ::1 at 2022-12-10 20:54:25 -0300
Processing by Api::V1::EnrollmentsController#update as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>30, "student_id"=>4, "id"=>"62", "enrollment"=>{"amount"=>1000, "installments"=>4, "due_day"=>30, "student_id"=>4}}
  [1m[36mEnrollment Load (0.5ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:46:in `set_enrollment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 181]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 182]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 183]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Destroy (1.0ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 184]]
  ↳ app/models/enrollment.rb:48:in `map'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2022-12-30"], ["status", "open"], ["created_at", "2022-12-10 23:54:25.547160"], ["updated_at", "2022-12-10 23:54:25.547160"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-01-30"], ["status", "open"], ["created_at", "2022-12-10 23:54:25.550574"], ["updated_at", "2022-12-10 23:54:25.550574"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-10 23:54:25.554754"], ["updated_at", "2022-12-10 23:54:25.554754"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-03-30"], ["status", "open"], ["created_at", "2022-12-10 23:54:25.560302"], ["updated_at", "2022-12-10 23:54:25.560302"], ["enrollment_id", 62]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mEnrollment Update (0.3ms)[0m  [1m[33mUPDATE "enrollments" SET "due_day" = $1, "updated_at" = $2 WHERE "enrollments"."id" = $3[0m  [["due_day", 30], ["updated_at", "2022-12-10 23:54:25.533984"], ["id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:31:in `update'
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 5.8ms | Allocations: 10621)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 20:54:33 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>30, "student_id"=>4, "bill"=>{"amount"=>1000}}
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms | Allocations: 1438)


Started GET "/api/v1/students" for ::1 at 2022-12-10 20:57:29 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>30, "student_id"=>4, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms | Allocations: 1857)


Started GET "/api/v1/students" for 127.0.0.1 at 2022-12-10 20:57:40 -0300
Processing by Api::V1::StudentsController#index as HTML
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.9ms | Allocations: 1506)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:10:56 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:11: syntax error, unexpected `end'
      end
      ^~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
...dent, status: :created location: api_v1_student_url(@student)
...                       ^~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:55: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/students_controller.rb:11: syntax error, unexpected `end'
app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
app/controllers/api/v1/students_controller.rb:55: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/students_controller.rb:11: syntax error, unexpected `end'
app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
app/controllers/api/v1/students_controller.rb:55: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/students" for ::1 at 2022-12-10 21:11:06 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
...dent, status: :created location: api_v1_student_url(@student)
...                       ^~~~~~~~
):
  
app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
Started GET "/api/v1/students" for ::1 at 2022-12-10 21:11:36 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected '\n', expecting =>
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
...dent, status: :created location: api_v1_student_url(@student)
...                       ^~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:55: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected '\n', expecting =>
app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
app/controllers/api/v1/students_controller.rb:55: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected '\n', expecting =>
app/controllers/api/v1/students_controller.rb:23: syntax error, unexpected local variable or method, expecting `end'
app/controllers/api/v1/students_controller.rb:55: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/students" for ::1 at 2022-12-10 21:52:14 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>30, "student_id"=>4, "student"=>{}}
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:7:in `index'
Completed 200 OK in 34ms (Views: 18.2ms | ActiveRecord: 5.4ms | Allocations: 37194)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:54:14 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>1000, "installments"=>4, "due_day"=>30, "student_id"=>4, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 4.0ms | Allocations: 3567)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:56:27 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
[31mUnpermitted parameters: :page, :count, :student. Context: { controller: Api::V1::StudentsController, action: index, request: #<ActionDispatch::Request:0x00007fdd0903b6d0>, params: {"page"=>1, "count"=>3, "controller"=>"api/v1/students", "action"=>"index", "student"=>{}} }[0m
[31mUnpermitted parameters: :page, :count, :student. Context: { controller: Api::V1::StudentsController, action: index, request: #<ActionDispatch::Request:0x00007fdd0903b6d0>, params: {"page"=>1, "count"=>3, "controller"=>"api/v1/students", "action"=>"index", "student"=>{}} }[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 3.4ms | Allocations: 3843)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:57:03 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 2.6ms | Allocations: 3671)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:57:17 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 2.3ms | Allocations: 1022)


  
NoMethodError (undefined method `page' for #<ActionController::Parameters {"page"=>1, "count"=>3, "controller"=>"api/v1/students", "action"=>"index", "student"=>{}} permitted: false>):
  
app/controllers/api/v1/students_controller.rb:8:in `index'
Started GET "/api/v1/students" for ::1 at 2022-12-10 21:57:27 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 3.6ms | Allocations: 3623)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:57:56 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 4.7ms | Allocations: 3574)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:58:08 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 3.0ms | Allocations: 3567)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:58:20 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 3.7ms | Allocations: 3567)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:58:41 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (2.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:8:in `index'
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 15.0ms | Allocations: 3567)


Started GET "/api/v1/students" for ::1 at 2022-12-10 21:59:49 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:7:in `index'
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 4.2ms | Allocations: 3563)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:00:32 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:7:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1576)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:02:03 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.6ms | Allocations: 2132)


  
NameError (undefined local variable or method `students' for #<Api::V1::StudentsController:0x0000000003ef80>
Did you mean?  student_params):
  
app/controllers/api/v1/students_controller.rb:8:in `index'
Started GET "/api/v1/students" for ::1 at 2022-12-10 22:02:27 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 2.1ms | Allocations: 3306)


  
NoMethodError (undefined method `[]' for Student:Class):
  
app/controllers/api/v1/students_controller.rb:9:in `index'
Started GET "/api/v1/students" for ::1 at 2022-12-10 22:02:46 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 9.0ms | Allocations: 252)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:03:03 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/students_controller.rb:9:in `index'
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 3.9ms | Allocations: 3577)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:03:31 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:9:in `index'
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 5.6ms | Allocations: 3557)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:04:37 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:7:in `index'
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 5.9ms | Allocations: 2788)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:06:02 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 2.4ms | Allocations: 2253)


  
NameError (undefined local variable or method `student' for #<Api::V1::StudentsController:0x0000000005c558>
Did you mean?  students):
  
app/controllers/api/v1/students_controller.rb:9:in `index'
Started GET "/api/v1/students" for ::1 at 2022-12-10 22:06:33 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 381)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:10:41 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:12: syntax error, unexpected `end'
        end        
        ^~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:51: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/students_controller.rb:12: syntax error, unexpected `end'
app/controllers/api/v1/students_controller.rb:51: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/students_controller.rb:12: syntax error, unexpected `end'
app/controllers/api/v1/students_controller.rb:51: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/students" for ::1 at 2022-12-10 22:12:25 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 30ms (Views: 0.8ms | ActiveRecord: 5.4ms | Allocations: 36667)


Started GET "/api/v1/students" for ::1 at 2022-12-10 22:12:39 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>2, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1046)


Started POST "/api/v1/students" for ::1 at 2022-12-10 22:17:11 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Carlos", "cpf"=>"12378945629", "birthdate"=>"1998-01-18", "payment_method"=>"boleto", "student"=>{"name"=>"Carlos", "cpf"=>"12378945629", "birthdate"=>"1998-01-18", "payment_method"=>"boleto"}}
[31mUnpermitted parameter: :student. Context: { controller: Api::V1::StudentsController, action: create, request: #<ActionDispatch::Request:0x00007fa20cd7eb68>, params: {"name"=>"Carlos", "cpf"=>"12378945629", "birthdate"=>"1998-01-18", "payment_method"=>"boleto", "controller"=>"api/v1/students", "action"=>"create", "student"=>{"name"=>"Carlos", "cpf"=>"12378945629", "birthdate"=>"1998-01-18", "payment_method"=>"boleto"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945629"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Carlos"], ["cpf", "12378945629"], ["birthdate", "1998-01-18"], ["payment_method", "boleto"], ["created_at", "2022-12-11 01:17:11.542721"], ["updated_at", "2022-12-11 01:17:11.542721"]]
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 5.3ms | Allocations: 6716)


Started POST "/api/v1/students" for ::1 at 2022-12-10 22:17:54 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Amélia", "cpf"=>"12378945659", "birthdate"=>"1998-01-28", "payment_method"=>"boleto", "student"=>{"name"=>"Amélia", "cpf"=>"12378945659", "birthdate"=>"1998-01-28", "payment_method"=>"boleto"}}
[31mUnpermitted parameter: :student. Context: { controller: Api::V1::StudentsController, action: create, request: #<ActionDispatch::Request:0x00007fa200d37f80>, params: {"name"=>"Amélia", "cpf"=>"12378945659", "birthdate"=>"1998-01-28", "payment_method"=>"boleto", "controller"=>"api/v1/students", "action"=>"create", "student"=>{"name"=>"Amélia", "cpf"=>"12378945659", "birthdate"=>"1998-01-28", "payment_method"=>"boleto"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945659"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Amélia"], ["cpf", "12378945659"], ["birthdate", "1998-01-28"], ["payment_method", "boleto"], ["created_at", "2022-12-11 01:17:54.952141"], ["updated_at", "2022-12-11 01:17:54.952141"]]
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 5.1ms | Allocations: 5371)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 22:20:28 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 3.8ms | Allocations: 15811)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 22:20:35 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>1, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 728)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:25:10 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ']'
...lls.find(params[:enrollment_id:id])
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment,bills:bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ']'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ']'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:25:57 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
...ls = Bills.find(:enrollment_id:id)
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment,bills:bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:26:07 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment,bills:bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:26:59 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment,bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:27:24 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
					render json: {bills},status: :ok
					                   ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:30:04 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
					render json: {enrollment},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:30:41 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
... = Bills.find(:enrollment_id=id)
...                             ^~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment, bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:31:16 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
... = Bills.find(:enrollment_id=id)
...                             ^~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment, bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:31:46 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment, bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:32:08 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
					render json: {bills},status: :ok
					                   ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:32:22 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}}
[31mUnpermitted parameters: :student_id, :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa20ce74fe0>, params: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}} }[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 3.1ms | Allocations: 8026)


  
NoMethodError (undefined method `erros' for #<Enrollment id: nil, amount: 3000, installments: 2, due_day: 15, created_at: nil, updated_at: nil, student_id: nil>
Did you mean?  errors):
  
app/controllers/api/v1/enrollments_controller.rb:27:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:33:23 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment, bills:bills},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:33:41 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
...render json: {enrollment bills:bills},status: :ok
...                         ^~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:33:51 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
					render json: {enrollment},status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:34:03 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}}
[31mUnpermitted parameters: :student_id, :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa201011580>, params: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}} }[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 5.0ms | Allocations: 6197)


  
NoMethodError (undefined method `erros' for #<Enrollment id: nil, amount: 3000, installments: 2, due_day: 15, created_at: nil, updated_at: nil, student_id: nil>
Did you mean?  errors):
  
app/controllers/api/v1/enrollments_controller.rb:27:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:34:43 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
...nrollment, {bills:bills} status: :ok
...                         ^~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:35:08 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...son: enrollment, {bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:35:44 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...son: enrollment, {bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:36:33 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...render json: enrollment, bills, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:37:14 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}}
[31mUnpermitted parameters: :student_id, :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa1f4288e38>, params: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}} }[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.8ms | Allocations: 6272)


  
NoMethodError (undefined method `erros' for #<Enrollment id: nil, amount: 3000, installments: 2, due_day: 15, created_at: nil, updated_at: nil, student_id: nil>
Did you mean?  errors):
  
app/controllers/api/v1/enrollments_controller.rb:27:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:39:11 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
... = Bills.find(:enrollment_id=id)    
...                             ^~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...son: enrollment, {bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:39:39 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa200f4b010>, params: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
  [1m[36mEnrollment Create (0.6ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 2], ["due_day", 15], ["created_at", "2022-12-11 01:39:40.014268"], ["updated_at", "2022-12-11 01:39:40.014268"], ["student_id", 5]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2022-12-15"], ["status", "open"], ["created_at", "2022-12-11 01:39:40.039210"], ["updated_at", "2022-12-11 01:39:40.039210"], ["enrollment_id", 63]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1500], ["due_date", "2023-01-15"], ["status", "open"], ["created_at", "2022-12-11 01:39:40.043159"], ["updated_at", "2022-12-11 01:39:40.043159"], ["enrollment_id", 63]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 200 OK in 60ms (Views: 0.4ms | ActiveRecord: 14.7ms | Allocations: 31857)


Started GET "/api/v1/bills" for ::1 at 2022-12-10 22:39:50 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>3000, "installments"=>2, "due_day"=>15, "student_id"=>5, "bill"=>{"amount"=>3000}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.4ms | Allocations: 2007)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:40:51 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
...s = Bill.find(:enrollment_id=id)    
...                             ^~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:41:05 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
...lls = Bill.find(:enrollment_id:id)    
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:42:02 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
...lls = Bill.find(:enrollment_id:enrollment.id)    
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ')', expecting `end'
...d(:enrollment_id:enrollment.id)    
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:42:23 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
....find(:enrollment_id=enrollment.id)    
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ')', expecting `end'
...d(:enrollment_id=enrollment.id)    
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:23: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:45:09 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:45:27 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...	render json: enrollment,bills, status: :ok
...	                             ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:46:44 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa20112cb18>, params: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}} }[0m
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" IN (NULL)[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 404 Not Found in 19ms (ActiveRecord: 6.1ms | Allocations: 5256)


  
ActiveRecord::RecordNotFound (Couldn't find all Bills with 'id': (all, {:conditions=>["enrollment_id=?", nil]}) (found 0 results, but was looking for 2).):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:47:16 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa1f456ec88>, params: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}} }[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.5ms | Allocations: 5659)


  
NameError (undefined local variable or method `id' for #<Api::V1::EnrollmentsController:0x000000000ab630>):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:47:42 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa20cc36940>, params: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["installments", 2], ["due_day", 15], ["created_at", "2022-12-11 01:47:42.353362"], ["updated_at", "2022-12-11 01:47:42.353362"], ["student_id", 6]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2022-12-15"], ["status", "open"], ["created_at", "2022-12-11 01:47:42.366986"], ["updated_at", "2022-12-11 01:47:42.366986"], ["enrollment_id", 64]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2023-01-15"], ["status", "open"], ["created_at", "2022-12-11 01:47:42.369501"], ["updated_at", "2022-12-11 01:47:42.369501"], ["enrollment_id", 64]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 10.2ms | Allocations: 18145)


  
NameError (undefined local variable or method `enrollment_id' for #<Api::V1::EnrollmentsController:0x000000000b0860>
Did you mean?  enrollment):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:48:37 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa1f4254fc0>, params: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (1.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["installments", 2], ["due_day", 15], ["created_at", "2022-12-11 01:48:37.225131"], ["updated_at", "2022-12-11 01:48:37.225131"], ["student_id", 6]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2022-12-15"], ["status", "open"], ["created_at", "2022-12-11 01:48:37.243182"], ["updated_at", "2022-12-11 01:48:37.243182"], ["enrollment_id", 65]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2023-01-15"], ["status", "open"], ["created_at", "2022-12-11 01:48:37.246561"], ["updated_at", "2022-12-11 01:48:37.246561"], ["enrollment_id", 65]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" IN (NULL)[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 48ms (ActiveRecord: 11.8ms | Allocations: 16891)


  
ActiveRecord::RecordNotFound (Couldn't find all Bills with 'id': (all, {:conditions=>["enrollment_id=?", 65]}) (found 0 results, but was looking for 2).):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:49:16 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa1f83cfbd0>, params: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["installments", 2], ["due_day", 15], ["created_at", "2022-12-11 01:49:16.823002"], ["updated_at", "2022-12-11 01:49:16.823002"], ["student_id", 6]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (4.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2022-12-15"], ["status", "open"], ["created_at", "2022-12-11 01:49:16.836331"], ["updated_at", "2022-12-11 01:49:16.836331"], ["enrollment_id", 66]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2023-01-15"], ["status", "open"], ["created_at", "2022-12-11 01:49:16.844084"], ["updated_at", "2022-12-11 01:49:16.844084"], ["enrollment_id", 66]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" IN (NULL)[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 46ms (ActiveRecord: 15.4ms | Allocations: 16885)


  
ActiveRecord::RecordNotFound (Couldn't find all Bills with 'id': (all, {:conditions=>66}) (found 0 results, but was looking for 2).):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 22:49:50 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>5, "enrollment"=>{}}
  [1m[36mEnrollment Load (1.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 1321)


Started DELETE "/api/v1/enrollments/63" for ::1 at 2022-12-10 22:50:15 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"page"=>1, "count"=>5, "id"=>"63", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 63]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 189]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 190]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mEnrollment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 63]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 2.5ms | Allocations: 4937)


Started DELETE "/api/v1/enrollments/64" for ::1 at 2022-12-10 22:50:18 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"page"=>1, "count"=>5, "id"=>"64", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 64]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 191]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.7ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 192]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 64]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 2.7ms | Allocations: 4395)


Started DELETE "/api/v1/enrollments/65" for ::1 at 2022-12-10 22:50:21 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"page"=>1, "count"=>5, "id"=>"65", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 65]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 193]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 194]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mEnrollment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 65]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 2.4ms | Allocations: 4396)


Started GET "/api/v1/enrollments/65" for ::1 at 2022-12-10 22:50:25 -0300
Processing by Api::V1::EnrollmentsController#show as */*
  Parameters: {"page"=>1, "count"=>5, "id"=>"65", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `show'
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 560)


  
ActiveRecord::RecordNotFound (Couldn't find Enrollment with 'id'=65):
  
app/controllers/api/v1/enrollments_controller.rb:17:in `show'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 22:50:30 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>5, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 905)


Started DELETE "/api/v1/enrollments/66" for ::1 at 2022-12-10 22:50:42 -0300
Processing by Api::V1::EnrollmentsController#destroy as */*
  Parameters: {"page"=>1, "count"=>5, "id"=>"66", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 66]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 195]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mBill Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bills" WHERE "bills"."id" = $1[0m  [["id", 196]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mEnrollment Destroy (1.1ms)[0m  [1m[31mDELETE FROM "enrollments" WHERE "enrollments"."id" = $1[0m  [["id", 66]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:33:in `destroy'
Completed 200 OK in 15ms (Views: 0.5ms | ActiveRecord: 3.8ms | Allocations: 4394)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:51:07 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa1f4544de8>, params: {"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>750, "installments"=>2, "due_day"=>15, "student_id"=>6}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 750], ["installments", 2], ["due_day", 15], ["created_at", "2022-12-11 01:51:07.131148"], ["updated_at", "2022-12-11 01:51:07.131148"], ["student_id", 6]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2022-12-15"], ["status", "open"], ["created_at", "2022-12-11 01:51:07.134275"], ["updated_at", "2022-12-11 01:51:07.134275"], ["enrollment_id", 67]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 375], ["due_date", "2023-01-15"], ["status", "open"], ["created_at", "2022-12-11 01:51:07.137255"], ["updated_at", "2022-12-11 01:51:07.137255"], ["enrollment_id", 67]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" IN (NULL)[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 18ms (ActiveRecord: 3.4ms | Allocations: 5915)


  
ActiveRecord::RecordNotFound (Couldn't find all Bills with 'id': (all, {:conditions=>67}) (found 0 results, but was looking for 2).):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:51:46 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
...:all, :enrollment_id=enrollment.id)  
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ')', expecting `end'
..., :enrollment_id=enrollment.id)  
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ')', expecting `end'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:53:40 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
....map(&:enrollment_id=enrollment.id) 
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
...(&:enrollment_id=enrollment.id) 
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:54:23 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
....map(&:enrollment_id=enrollment.id) 
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
...(&:enrollment_id=enrollment.id) 
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started GET "/api/v1/enrollments/65" for ::1 at 2022-12-10 22:55:20 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
...find(&:enrollment_id=enrollment.id) 
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
...(&:enrollment_id=enrollment.id) 
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started GET "/api/v1/enrollments/58" for ::1 at 2022-12-10 22:55:37 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
...find(&:enrollment_id=enrollment.id) 
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
...(&:enrollment_id=enrollment.id) 
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 22:56:00 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
...find(&:enrollment_id=enrollment.id) 
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
...(&:enrollment_id=enrollment.id) 
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 22:56:20 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
...find(&:enrollment_id=enrollment.id) 
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
...(&:enrollment_id=enrollment.id) 
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 22:56:38 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 32ms (Views: 1.0ms | ActiveRecord: 4.4ms | Allocations: 36482)


Started GET "/api/v1/enrollments/58" for ::1 at 2022-12-10 22:56:51 -0300
Processing by Api::V1::EnrollmentsController#show as */*
  Parameters: {"page"=>1, "count"=>3, "id"=>"58", "enrollment"=>{}}
  [1m[36mEnrollment Load (0.2ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `show'
Completed 200 OK in 18ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2765)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:59:00 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:26: syntax error, unexpected label, expecting `do' or '{' or '('
					render json: bills status: :ok
					                   ^~~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:26: syntax error, unexpected label, expecting `do' or '{' or '('
app/controllers/api/v1/enrollments_controller.rb:26: syntax error, unexpected label, expecting `do' or '{' or '('
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 22:59:48 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
					render json: bills status: :ok
					                   ^~~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:00:31 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
					render json: bills status: :ok
					                   ^~~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected label, expecting `do' or '{' or '('
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:01:14 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting `end'
...nder json: {bills:bills} status: :ok
...                         ^~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting `end'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:01:44 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x0000556c0f49fef0>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:01:44.372563"], ["updated_at", "2022-12-11 02:01:44.372563"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:01:44.397743"], ["updated_at", "2022-12-11 02:01:44.397743"], ["enrollment_id", 68]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:01:44.401125"], ["updated_at", "2022-12-11 02:01:44.401125"], ["enrollment_id", 68]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:01:44.404854"], ["updated_at", "2022-12-11 02:01:44.404854"], ["enrollment_id", 68]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.6ms)[0m  [1m[34mSELECT "bills".* FROM "bills" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 80ms (Views: 5.0ms | ActiveRecord: 20.2ms | Allocations: 50051)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:02:11 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
....find(:enrollment_id=enrollment.id)
...                     ^~~~~~~~~~
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ')', expecting `end'
...d(:enrollment_id=enrollment.id)
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ')', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ')', expecting `end'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:02:23 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f300c29f6d8>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:02:23.342873"], ["updated_at", "2022-12-11 02:02:23.342873"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:02:23.354989"], ["updated_at", "2022-12-11 02:02:23.354989"], ["enrollment_id", 69]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.1ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:02:23.358300"], ["updated_at", "2022-12-11 02:02:23.358300"], ["enrollment_id", 69]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:02:23.362034"], ["updated_at", "2022-12-11 02:02:23.362034"], ["enrollment_id", 69]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 42ms (ActiveRecord: 12.5ms | Allocations: 17908)


  
ActiveRecord::RecordNotFound (Couldn't find Bill with 'id'=enrollment_id):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:03:15 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f301420a850>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:03:15.643315"], ["updated_at", "2022-12-11 02:03:15.643315"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:03:15.656863"], ["updated_at", "2022-12-11 02:03:15.656863"], ["enrollment_id", 70]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:03:15.659589"], ["updated_at", "2022-12-11 02:03:15.659589"], ["enrollment_id", 70]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:03:15.663860"], ["updated_at", "2022-12-11 02:03:15.663860"], ["enrollment_id", 70]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 47ms (ActiveRecord: 12.8ms | Allocations: 19184)


  
NameError (undefined local variable or method `bill' for #<Api::V1::EnrollmentsController:0x00000000035610>
Did you mean?  bills):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:03:56 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f3000563768>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:03:56.173537"], ["updated_at", "2022-12-11 02:03:56.173537"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:03:56.189210"], ["updated_at", "2022-12-11 02:03:56.189210"], ["enrollment_id", 71]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:03:56.192406"], ["updated_at", "2022-12-11 02:03:56.192406"], ["enrollment_id", 71]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:03:56.194943"], ["updated_at", "2022-12-11 02:03:56.194943"], ["enrollment_id", 71]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 50ms (ActiveRecord: 17.9ms | Allocations: 17977)


  
ActiveRecord::RecordNotFound (Couldn't find Bill with 'id'={:enrollment_id=>71}):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:04:36 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x0000556c0f0c7878>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (1.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:04:36.410205"], ["updated_at", "2022-12-11 02:04:36.410205"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:04:36.424300"], ["updated_at", "2022-12-11 02:04:36.424300"], ["enrollment_id", 72]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (1.2ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:04:36.428945"], ["updated_at", "2022-12-11 02:04:36.428945"], ["enrollment_id", 72]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:04:36.433314"], ["updated_at", "2022-12-11 02:04:36.433314"], ["enrollment_id", 72]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 52ms (ActiveRecord: 18.9ms | Allocations: 17965)


  
ActiveRecord::RecordNotFound (Couldn't find Bill with 'id'=72):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:05:03 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f3008e2cc48>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:05:03.992474"], ["updated_at", "2022-12-11 02:05:03.992474"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (1.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:05:04.018446"], ["updated_at", "2022-12-11 02:05:04.018446"], ["enrollment_id", 73]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:05:04.022913"], ["updated_at", "2022-12-11 02:05:04.022913"], ["enrollment_id", 73]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:05:04.026120"], ["updated_at", "2022-12-11 02:05:04.026120"], ["enrollment_id", 73]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 72ms (ActiveRecord: 19.9ms | Allocations: 20471)


  
NoMethodError (undefined method `findAll' for Bill:Class
Did you mean?  find):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:05:17 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f300c495fa0>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.6ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:05:17.759297"], ["updated_at", "2022-12-11 02:05:17.759297"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:05:17.773424"], ["updated_at", "2022-12-11 02:05:17.773424"], ["enrollment_id", 74]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:05:17.776461"], ["updated_at", "2022-12-11 02:05:17.776461"], ["enrollment_id", 74]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:05:17.779742"], ["updated_at", "2022-12-11 02:05:17.779742"], ["enrollment_id", 74]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 51ms (ActiveRecord: 17.2ms | Allocations: 17871)


  
ActiveRecord::RecordNotFound (Couldn't find Bill with 'id'=74):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:06:05 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f3014624738>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:06:05.358147"], ["updated_at", "2022-12-11 02:06:05.358147"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:06:05.372022"], ["updated_at", "2022-12-11 02:06:05.372022"], ["enrollment_id", 75]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:06:05.376355"], ["updated_at", "2022-12-11 02:06:05.376355"], ["enrollment_id", 75]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:06:05.379797"], ["updated_at", "2022-12-11 02:06:05.379797"], ["enrollment_id", 75]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 48ms (ActiveRecord: 14.0ms | Allocations: 17870)


  
ActiveRecord::RecordNotFound (Couldn't find Bill with 'id'=75):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:06:30 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected integer literal, expecting ')'
...lls=Bill.find(:enrollment_id=75)
...                             ^~
):
  
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected integer literal, expecting ')'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected integer literal, expecting ')'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:06:40 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ':', expecting ')'
...bills=Bill.find(:enrollment_id:75)
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/enrollments_controller.rb:24: syntax error, unexpected ':', expecting ')'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:06:50 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f3008d30678>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:06:50.626480"], ["updated_at", "2022-12-11 02:06:50.626480"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:06:50.641978"], ["updated_at", "2022-12-11 02:06:50.641978"], ["enrollment_id", 76]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:06:50.644783"], ["updated_at", "2022-12-11 02:06:50.644783"], ["enrollment_id", 76]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:06:50.648000"], ["updated_at", "2022-12-11 02:06:50.648000"], ["enrollment_id", 76]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Completed 404 Not Found in 50ms (ActiveRecord: 13.8ms | Allocations: 17960)


  
ActiveRecord::RecordNotFound (Couldn't find Bill with 'id'=enrollment_id):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:08:22 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f300c3e0380>, params: {"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>3000, "installments"=>3, "due_day"=>29, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 3000], ["installments", 3], ["due_day", 29], ["created_at", "2022-12-11 02:08:23.076014"], ["updated_at", "2022-12-11 02:08:23.076014"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2022-12-29"], ["status", "open"], ["created_at", "2022-12-11 02:08:23.092520"], ["updated_at", "2022-12-11 02:08:23.092520"], ["enrollment_id", 77]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-01-29"], ["status", "open"], ["created_at", "2022-12-11 02:08:23.095884"], ["updated_at", "2022-12-11 02:08:23.095884"], ["enrollment_id", 77]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 1000], ["due_date", "2023-02-28"], ["status", "open"], ["created_at", "2022-12-11 02:08:23.098773"], ["updated_at", "2022-12-11 02:08:23.098773"], ["enrollment_id", 77]]
  ↳ app/models/enrollment.rb:33:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 77]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 52ms (Views: 3.2ms | ActiveRecord: 13.0ms | Allocations: 18417)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:08:50 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment, bills:bills}, status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:09:03 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...son: enrollment, {bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:09:45 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f3000814f98>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:09:45.647483"], ["updated_at", "2022-12-11 02:09:45.647483"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:09:45.660994"], ["updated_at", "2022-12-11 02:09:45.660994"], ["enrollment_id", 78]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (3.8ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:09:45.672184"], ["updated_at", "2022-12-11 02:09:45.672184"], ["enrollment_id", 78]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:09:45.678542"], ["updated_at", "2022-12-11 02:09:45.678542"], ["enrollment_id", 78]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 78]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 62ms (Views: 2.5ms | ActiveRecord: 15.9ms | Allocations: 18404)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:10:44 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:11:09 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment,bills:bills}, status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:11:31 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f300c370918>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (1.0ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:11:31.420612"], ["updated_at", "2022-12-11 02:11:31.420612"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:11:31.433198"], ["updated_at", "2022-12-11 02:11:31.433198"], ["enrollment_id", 79]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:11:31.435894"], ["updated_at", "2022-12-11 02:11:31.435894"], ["enrollment_id", 79]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:11:31.441185"], ["updated_at", "2022-12-11 02:11:31.441185"], ["enrollment_id", 79]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 79]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 57ms (Views: 2.8ms | ActiveRecord: 12.7ms | Allocations: 18565)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:12:37 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment,bills:bills}, status: :ok
					                        ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:13:10 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:13:24 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
					render json: {enrollment,{bills:bills}}, status: :ok
					                        ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting `end'
...son: {enrollment,{bills:bills}}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting `end'
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting `end'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:13:44 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
...{data:enrollment,{bills:bills}}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected '}', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:14:12 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f3008fc12c0>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:14:12.303252"], ["updated_at", "2022-12-11 02:14:12.303252"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:14:12.320013"], ["updated_at", "2022-12-11 02:14:12.320013"], ["enrollment_id", 80]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:14:12.323200"], ["updated_at", "2022-12-11 02:14:12.323200"], ["enrollment_id", 80]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:14:12.326244"], ["updated_at", "2022-12-11 02:14:12.326244"], ["enrollment_id", 80]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 80]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 57ms (Views: 2.7ms | ActiveRecord: 18.5ms | Allocations: 18515)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:14:45 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f300c557790>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:14:45.243771"], ["updated_at", "2022-12-11 02:14:45.243771"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:14:45.269203"], ["updated_at", "2022-12-11 02:14:45.269203"], ["enrollment_id", 81]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:14:45.272937"], ["updated_at", "2022-12-11 02:14:45.272937"], ["enrollment_id", 81]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:14:45.275948"], ["updated_at", "2022-12-11 02:14:45.275948"], ["enrollment_id", 81]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 200 OK in 62ms (Views: 0.4ms | ActiveRecord: 13.7ms | Allocations: 17417)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:14:59 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
...enrollment,{bills:bills} status: :ok
...                         ^~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:15:10 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
...enrollment,{bills:bills} status: :ok
...                         ^~~~~~
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected local variable or method, expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:15:21 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:15:38 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
...json: enrollment,{bills:bills}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:25: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:16:07 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa85013ed68>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (1.2ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:16:07.380964"], ["updated_at", "2022-12-11 02:16:07.380964"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:16:07.405743"], ["updated_at", "2022-12-11 02:16:07.405743"], ["enrollment_id", 82]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:16:07.408845"], ["updated_at", "2022-12-11 02:16:07.408845"], ["enrollment_id", 82]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (2.7ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:16:07.411630"], ["updated_at", "2022-12-11 02:16:07.411630"], ["enrollment_id", 82]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 82]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 130ms (Views: 16.6ms | ActiveRecord: 23.3ms | Allocations: 84998)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:18:25 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa85ca79ea8>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:18:25.588482"], ["updated_at", "2022-12-11 02:18:25.588482"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:18:25.602630"], ["updated_at", "2022-12-11 02:18:25.602630"], ["enrollment_id", 83]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:18:25.606285"], ["updated_at", "2022-12-11 02:18:25.606285"], ["enrollment_id", 83]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:18:25.608892"], ["updated_at", "2022-12-11 02:18:25.608892"], ["enrollment_id", 83]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 14.2ms | Allocations: 19779)


  
NoMethodError (undefined method `due_date' for #<Enrollment id: 83, amount: 2000, installments: 3, due_day: 25, created_at: "2022-12-11 02:18:25.588482000 +0000", updated_at: "2022-12-11 02:18:25.588482000 +0000", student_id: 2>
Did you mean?  due_day
               due_day?
               due_day=):
  
app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:18:42 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x0000563d7398c478>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:18:42.969696"], ["updated_at", "2022-12-11 02:18:42.969696"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (4.2ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:18:42.988380"], ["updated_at", "2022-12-11 02:18:42.988380"], ["enrollment_id", 84]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:18:42.995914"], ["updated_at", "2022-12-11 02:18:42.995914"], ["enrollment_id", 84]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:18:42.998679"], ["updated_at", "2022-12-11 02:18:42.998679"], ["enrollment_id", 84]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (2.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 84]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 68ms (Views: 2.7ms | ActiveRecord: 23.1ms | Allocations: 18488)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:19:11 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa850027dd0>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:19:11.640387"], ["updated_at", "2022-12-11 02:19:11.640387"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:19:11.658735"], ["updated_at", "2022-12-11 02:19:11.658735"], ["enrollment_id", 85]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:19:11.661620"], ["updated_at", "2022-12-11 02:19:11.661620"], ["enrollment_id", 85]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:19:11.664381"], ["updated_at", "2022-12-11 02:19:11.664381"], ["enrollment_id", 85]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 85]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 54ms (Views: 2.4ms | ActiveRecord: 22.4ms | Allocations: 18455)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:20:02 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected ',', expecting =>
... bills:bills.id,bills.due_date, bills.status, bills.amount},...
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected '}', expecting '.' or &. or :: or '['
...te, bills.status, bills.amount}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected '}', expecting '.' or &. or :: or '['
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected '}', expecting '.' or &. or :: or '['
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:20:44 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected ',', expecting =>
...   bills:bill.id,bill.due_date, bill.status, bill.amount}, s...
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected '}', expecting '.' or &. or :: or '['
...date, bill.status, bill.amount}, status: :ok
...                              ^
):
  
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected '}', expecting '.' or &. or :: or '['
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/enrollments_controller.rb:27: syntax error, unexpected '}', expecting '.' or &. or :: or '['
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:21:09 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa84815c1e0>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:21:09.124863"], ["updated_at", "2022-12-11 02:21:09.124863"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:09.137741"], ["updated_at", "2022-12-11 02:21:09.137741"], ["enrollment_id", 86]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:09.141716"], ["updated_at", "2022-12-11 02:21:09.141716"], ["enrollment_id", 86]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:09.145243"], ["updated_at", "2022-12-11 02:21:09.145243"], ["enrollment_id", 86]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 86], ["LIMIT", 11]]
Completed 500 Internal Server Error in 61ms (ActiveRecord: 15.5ms | Allocations: 20171)


  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 86], ["LIMIT", 11]]
  
NoMethodError (undefined method `bill' for #<ActiveRecord::Relation [#<Bill id: 253, amount: 666, due_date: "2022-12-25", status: "open", created_at: "2022-12-11 02:21:09.137741000 +0000", updated_at: "2022-12-11 02:21:09.137741000 +0000", enrollment_id: 86>, #<Bill id: 254, amount: 666, due_date: "2023-01-25", status: "open", created_at: "2022-12-11 02:21:09.141716000 +0000", updated_at: "2022-12-11 02:21:09.141716000 +0000", enrollment_id: 86>, #<Bill id: 255, amount: 666, due_date: "2023-02-25", status: "open", created_at: "2022-12-11 02:21:09.145243000 +0000", updated_at: "2022-12-11 02:21:09.145243000 +0000", enrollment_id: 86>]>):
  
app/controllers/api/v1/enrollments_controller.rb:27:in `create'
  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 86], ["LIMIT", 11]]
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:21:21 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa84d03b770>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:21:21.546448"], ["updated_at", "2022-12-11 02:21:21.546448"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:21.560759"], ["updated_at", "2022-12-11 02:21:21.560759"], ["enrollment_id", 87]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:21.563420"], ["updated_at", "2022-12-11 02:21:21.563420"], ["enrollment_id", 87]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:21.566041"], ["updated_at", "2022-12-11 02:21:21.566041"], ["enrollment_id", 87]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 87], ["LIMIT", 11]]
Completed 500 Internal Server Error in 49ms (ActiveRecord: 10.4ms | Allocations: 20260)


  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 87], ["LIMIT", 11]]
  
NoMethodError (undefined method `id' for #<ActiveRecord::Relation [#<Bill id: 256, amount: 666, due_date: "2022-12-25", status: "open", created_at: "2022-12-11 02:21:21.560759000 +0000", updated_at: "2022-12-11 02:21:21.560759000 +0000", enrollment_id: 87>, #<Bill id: 257, amount: 666, due_date: "2023-01-25", status: "open", created_at: "2022-12-11 02:21:21.563420000 +0000", updated_at: "2022-12-11 02:21:21.563420000 +0000", enrollment_id: 87>, #<Bill id: 258, amount: 666, due_date: "2023-02-25", status: "open", created_at: "2022-12-11 02:21:21.566041000 +0000", updated_at: "2022-12-11 02:21:21.566041000 +0000", enrollment_id: 87>]>
Did you mean?  ids):
  
app/controllers/api/v1/enrollments_controller.rb:27:in `create'
  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 87], ["LIMIT", 11]]
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:21:33 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa84083c800>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (5.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:21:33.288792"], ["updated_at", "2022-12-11 02:21:33.288792"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:33.303519"], ["updated_at", "2022-12-11 02:21:33.303519"], ["enrollment_id", 88]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:33.306898"], ["updated_at", "2022-12-11 02:21:33.306898"], ["enrollment_id", 88]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:33.310466"], ["updated_at", "2022-12-11 02:21:33.310466"], ["enrollment_id", 88]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 61ms (ActiveRecord: 16.4ms | Allocations: 19294)


  
NameError (undefined local variable or method `id' for #<Api::V1::EnrollmentsController:0x00000000035e30>):
  
app/controllers/api/v1/enrollments_controller.rb:27:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:21:53 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa84cc8b198>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:21:53.089021"], ["updated_at", "2022-12-11 02:21:53.089021"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:53.105079"], ["updated_at", "2022-12-11 02:21:53.105079"], ["enrollment_id", 89]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:53.108749"], ["updated_at", "2022-12-11 02:21:53.108749"], ["enrollment_id", 89]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:21:53.112440"], ["updated_at", "2022-12-11 02:21:53.112440"], ["enrollment_id", 89]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (4.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 89], ["LIMIT", 11]]
Completed 500 Internal Server Error in 63ms (ActiveRecord: 16.4ms | Allocations: 20272)


  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 89], ["LIMIT", 11]]
  
NoMethodError (undefined method `id' for #<ActiveRecord::Relation [#<Bill id: 262, amount: 666, due_date: "2022-12-25", status: "open", created_at: "2022-12-11 02:21:53.105079000 +0000", updated_at: "2022-12-11 02:21:53.105079000 +0000", enrollment_id: 89>, #<Bill id: 263, amount: 666, due_date: "2023-01-25", status: "open", created_at: "2022-12-11 02:21:53.108749000 +0000", updated_at: "2022-12-11 02:21:53.108749000 +0000", enrollment_id: 89>, #<Bill id: 264, amount: 666, due_date: "2023-02-25", status: "open", created_at: "2022-12-11 02:21:53.112440000 +0000", updated_at: "2022-12-11 02:21:53.112440000 +0000", enrollment_id: 89>]>
Did you mean?  ids):
  
app/controllers/api/v1/enrollments_controller.rb:27:in `create'
  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 89], ["LIMIT", 11]]
Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:22:04 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa850ab9dc0>, params: {"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>2000, "installments"=>3, "due_day"=>25, "student_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 2000], ["installments", 3], ["due_day", 25], ["created_at", "2022-12-11 02:22:04.562814"], ["updated_at", "2022-12-11 02:22:04.562814"], ["student_id", 2]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2022-12-25"], ["status", "open"], ["created_at", "2022-12-11 02:22:04.577514"], ["updated_at", "2022-12-11 02:22:04.577514"], ["enrollment_id", 90]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-01-25"], ["status", "open"], ["created_at", "2022-12-11 02:22:04.580875"], ["updated_at", "2022-12-11 02:22:04.580875"], ["enrollment_id", 90]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 666], ["due_date", "2023-02-25"], ["status", "open"], ["created_at", "2022-12-11 02:22:04.583861"], ["updated_at", "2022-12-11 02:22:04.583861"], ["enrollment_id", 90]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (2.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 90]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:25:in `create'
Completed 200 OK in 52ms (Views: 2.9ms | ActiveRecord: 20.3ms | Allocations: 18439)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:27:02 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.5ms | Allocations: 6369)


  
NameError (undefined local variable or method `enrollment' for #<Api::V1::EnrollmentsController:0x00000000044a98>
Did you mean?  enrollments):
  
app/controllers/api/v1/enrollments_controller.rb:13:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:28:17 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (1.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.1ms | Allocations: 6360)


  
NameError (undefined local variable or method `enrollment' for #<Api::V1::EnrollmentsController:0x00000000049908>
Did you mean?  enrollments):
  
app/controllers/api/v1/enrollments_controller.rb:13:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:28:32 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 3.0ms | Allocations: 4668)


  
NameError (undefined local variable or method `enrollment' for #<Api::V1::EnrollmentsController:0x0000000004e7c8>
Did you mean?  enrollments):
  
app/controllers/api/v1/enrollments_controller.rb:14:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:28:45 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 3.8ms | Allocations: 38154)


  
NameError (undefined local variable or method `enrollment' for #<Api::V1::EnrollmentsController:0x0000000000a000>
Did you mean?  enrollments):
  
app/controllers/api/v1/enrollments_controller.rb:14:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:29:03 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 4.0ms | Allocations: 4676)


  
NameError (undefined local variable or method `enrollment' for #<Api::V1::EnrollmentsController:0x0000000000edf8>
Did you mean?  enrollments):
  
app/controllers/api/v1/enrollments_controller.rb:14:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:29:45 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 3.8ms | Allocations: 3328)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:29:54 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 3.3ms | Allocations: 4226)


  
NoMethodError (undefined method `id' for [#<Enrollment id: 58, amount: 3000, installments: 3, due_day: 29, created_at: "2022-12-10 22:59:47.509510000 +0000", updated_at: "2022-12-10 23:00:33.123971000 +0000", student_id: 2>, #<Enrollment id: 62, amount: 1000, installments: 4, due_day: 30, created_at: "2022-12-10 23:52:39.363275000 +0000", updated_at: "2022-12-10 23:54:25.533984000 +0000", student_id: 4>, #<Enrollment id: 67, amount: 750, installments: 2, due_day: 15, created_at: "2022-12-11 01:51:07.131148000 +0000", updated_at: "2022-12-11 01:51:07.131148000 +0000", student_id: 6>]:Array):
  
app/controllers/api/v1/enrollments_controller.rb:14:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:30:04 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 3.1ms | Allocations: 3102)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:30:49 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.8ms | Allocations: 6378)


  
NameError (undefined local variable or method `enrollment' for #<Api::V1::EnrollmentsController:0x00000000022060>
Did you mean?  enrollments):
  
app/controllers/api/v1/enrollments_controller.rb:13:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:33:34 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (1.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
Completed 200 OK in 44ms (Views: 23.2ms | ActiveRecord: 11.5ms | Allocations: 23902)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:43:31 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
Completed 200 OK in 65ms (Views: 24.5ms | ActiveRecord: 18.9ms | Allocations: 57598)


Started GET "/api/v1/students" for ::1 at 2022-12-10 23:43:41 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 17ms (Views: 1.0ms | ActiveRecord: 3.5ms | Allocations: 15994)


Started POST "/api/v1/students" for ::1 at 2022-12-10 23:44:39 -0300
Processing by Api::V1::StudentsController#create as */*
  Parameters: {"name"=>"Jurema", "cpf"=>"12378945228", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card", "student"=>{"name"=>"Jurema", "cpf"=>"12378945228", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card"}}
[31mUnpermitted parameter: :student. Context: { controller: Api::V1::StudentsController, action: create, request: #<ActionDispatch::Request:0x00007f5300c5f378>, params: {"name"=>"Jurema", "cpf"=>"12378945228", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card", "controller"=>"api/v1/students", "action"=>"create", "student"=>{"name"=>"Jurema", "cpf"=>"12378945228", "birthdate"=>"1988-05-18", "payment_method"=>"credit_card"}} }[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cpf" = $1 LIMIT $2[0m  [["cpf", "12378945228"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "cpf", "birthdate", "payment_method", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Jurema"], ["cpf", "12378945228"], ["birthdate", "1988-05-18"], ["payment_method", "credit_card"], ["created_at", "2022-12-11 02:44:39.304619"], ["updated_at", "2022-12-11 02:44:39.304619"]]
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/students_controller.rb:23:in `create'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 4080)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-10 23:45:29 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>2, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (6.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:14:in `index'
Completed 200 OK in 14ms (Views: 4.6ms | ActiveRecord: 7.0ms | Allocations: 3249)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-10 23:46:17 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007f5300d75bb8>, params: {"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 350], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-11 02:46:17.767578"], ["updated_at", "2022-12-11 02:46:17.767578"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
  [1m[36mBill Create (1.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 175], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-11 02:46:17.787899"], ["updated_at", "2022-12-11 02:46:17.787899"], ["enrollment_id", 91]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 175], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-11 02:46:17.792697"], ["updated_at", "2022-12-11 02:46:17.792697"], ["enrollment_id", 91]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:24:in `create'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 91]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:26:in `create'
Completed 200 OK in 57ms (Views: 2.3ms | ActiveRecord: 4.3ms | Allocations: 13026)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 16:07:18 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (uninitialized constant Enrollment::CreateBillsService):
  
app/models/enrollment.rb:9:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 16:15:50 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11}}
Completed 500 Internal Server Error in 14ms (ActiveRecord: 9.2ms | Allocations: 19379)


  
ArgumentError (comparison of Integer with nil failed):
  
app/controllers/api/v1/enrollments_controller.rb:9:in `<'
app/controllers/api/v1/enrollments_controller.rb:9:in `index'
Started GET "/api/v1/atudents" for ::1 at 2022-12-11 16:16:51 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/atudents"):
  
Started GET "/api/v1/atudents" for ::1 at 2022-12-11 16:17:34 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/atudents"):
  
Started GET "/api/v1/students" for ::1 at 2022-12-11 16:17:46 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11, "student"=>{}}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.5ms | Allocations: 19386)


  
ArgumentError (comparison of Integer with nil failed):
  
app/controllers/api/v1/students_controller.rb:9:in `<'
app/controllers/api/v1/students_controller.rb:9:in `index'
Started GET "/api/v1/bills" for ::1 at 2022-12-11 16:18:00 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>350, "installments"=>2, "due_day"=>5, "student_id"=>11, "bill"=>{"amount"=>350}}
  [1m[36mBill Load (1.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 35ms (Views: 30.2ms | ActiveRecord: 5.0ms | Allocations: 25729)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 16:19:13 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa700d92750>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (3.3ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-11 19:19:13.432621"], ["updated_at", "2022-12-11 19:19:13.432621"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 69ms (ActiveRecord: 13.0ms | Allocations: 40894)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 16:20:16 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa700daf288>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-11 19:20:16.310191"], ["updated_at", "2022-12-11 19:20:16.310191"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 12.1ms | Allocations: 11209)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 16:34:18 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa70cf39340>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.8ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-11 19:34:18.775916"], ["updated_at", "2022-12-11 19:34:18.775916"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 13.3ms | Allocations: 10959)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 16:35:44 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa6fc3775a8>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-11 19:35:44.213327"], ["updated_at", "2022-12-11 19:35:44.213327"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 9.2ms | Allocations: 11177)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 16:36:11 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007fa6f83e4a30>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.5ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-11 19:36:11.559409"], ["updated_at", "2022-12-11 19:36:11.559409"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (4.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-11 19:36:11.581644"], ["updated_at", "2022-12-11 19:36:11.581644"], ["enrollment_id", 96]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.3ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-11 19:36:11.588966"], ["updated_at", "2022-12-11 19:36:11.588966"], ["enrollment_id", 96]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 96]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:26:in `create'
Completed 200 OK in 63ms (Views: 4.5ms | ActiveRecord: 17.3ms | Allocations: 19130)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 17:55:31 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff98e65548>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
Completed 500 Internal Server Error in 34ms (ActiveRecord: 4.5ms | Allocations: 38481)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 17:56:44 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff8caf1cd8>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.1ms | Allocations: 3689)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 17:58:31 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff9866f640>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.7ms | Allocations: 3744)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 17:58:59 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff8cae3db8>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.9ms | Allocations: 3687)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 17:59:27 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00005556655cb370>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.8ms | Allocations: 3706)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:00:04 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff8c98bdd0>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.6ms | Allocations: 3685)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:00:29 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff94022048>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.8ms | Allocations: 3685)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:00:56 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff8012d500>, params: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.7ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 5], ["created_at", "2022-12-11 21:00:56.817781"], ["updated_at", "2022-12-11 21:00:56.817781"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.6ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-01-05"], ["status", "open"], ["created_at", "2022-12-11 21:00:56.841980"], ["updated_at", "2022-12-11 21:00:56.841980"], ["enrollment_id", 97]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-02-05"], ["status", "open"], ["created_at", "2022-12-11 21:00:56.845525"], ["updated_at", "2022-12-11 21:00:56.845525"], ["enrollment_id", 97]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 70ms (ActiveRecord: 12.9ms | Allocations: 49514)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started GET "/api/v1/bills" for ::1 at 2022-12-11 18:02:34 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>5, "student_id"=>11, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.5ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 3.4ms | Allocations: 11775)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:03:20 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>15, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>15, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff84010178>, params: {"amount"=>500, "installments"=>2, "due_day"=>15, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>15, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 15], ["created_at", "2022-12-11 21:03:20.097333"], ["updated_at", "2022-12-11 21:03:20.097333"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mBill Create (0.4ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2022-12-15"], ["status", "open"], ["created_at", "2022-12-11 21:03:20.101666"], ["updated_at", "2022-12-11 21:03:20.101666"], ["enrollment_id", 98]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mBill Create (0.5ms)[0m  [1m[32mINSERT INTO "bills" ("amount", "due_date", "status", "created_at", "updated_at", "enrollment_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 250], ["due_date", "2023-01-15"], ["status", "open"], ["created_at", "2022-12-11 21:03:20.104454"], ["updated_at", "2022-12-11 21:03:20.104454"], ["enrollment_id", 98]]
  ↳ app/models/enrollment.rb:38:in `create_bills'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 7.9ms | Allocations: 13803)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started GET "/api/v1/bills" for ::1 at 2022-12-11 18:03:29 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>15, "student_id"=>11, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.3ms | Allocations: 9942)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:04:30 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff98a19430>, params: {"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (1.1ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 21], ["created_at", "2022-12-11 21:04:30.525863"], ["updated_at", "2022-12-11 21:04:30.525863"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 9.6ms | Allocations: 11234)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started GET "/api/v1/bills" for ::1 at 2022-12-11 18:04:37 -0300
Processing by Api::V1::BillsController#index as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11, "bill"=>{"amount"=>500}}
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills"[0m
  ↳ app/controllers/api/v1/bills_controller.rb:10:in `index'
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 3.2ms | Allocations: 11842)


Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:06:03 -0300
Processing by Api::V1::EnrollmentsController#create as */*
  Parameters: {"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11, "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11}}
[31mUnpermitted parameter: :enrollment. Context: { controller: Api::V1::EnrollmentsController, action: create, request: #<ActionDispatch::Request:0x00007eff991944f8>, params: {"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11, "controller"=>"api/v1/enrollments", "action"=>"create", "enrollment"=>{"amount"=>500, "installments"=>2, "due_day"=>21, "student_id"=>11}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mEnrollment Create (0.4ms)[0m  [1m[32mINSERT INTO "enrollments" ("amount", "installments", "due_day", "created_at", "updated_at", "student_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", 500], ["installments", 2], ["due_day", 21], ["created_at", "2022-12-11 21:06:03.829014"], ["updated_at", "2022-12-11 21:06:03.829014"], ["student_id", 11]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:23:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 6.1ms | Allocations: 11171)


  
NameError (uninitialized constant Api::V1::EnrollmentsController::CreateBillsService):
  
app/controllers/api/v1/enrollments_controller.rb:24:in `create'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:07:18 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (uninitialized constant Enrollment::EnrollmentsController):
  
app/models/enrollment.rb:9:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:07:44 -0300
  
NameError (uninitialized constant Enrollment::EnrollmentsController):
  
app/models/enrollment.rb:9:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:10:25 -0300
  
NameError (uninitialized constant Enrollment::EnrollmentsController):
  
app/models/enrollment.rb:9:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started POST "/api/v1/enrollments" for ::1 at 2022-12-11 18:13:10 -0300
  
NameError (uninitialized constant Enrollment::EnrollmentsController):
  
app/models/enrollment.rb:9:in `<class:Enrollment>'
app/models/enrollment.rb:1:in `<main>'
Started GET "/api/v1/students" for ::1 at 2022-12-11 18:16:57 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 105ms (Views: 1.2ms | ActiveRecord: 5.8ms | Allocations: 36667)


Started GET "/api/v1/students" for ::1 at 2022-12-11 18:20:12 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:14: syntax error, unexpected ',', expecting =>
...entCount.id, studentCount.name, studentCount.cpf,studentCoun...
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:14: syntax error, unexpected '}', expecting '.' or &. or :: or '['
...e, studentCount.payment_method},
...                              ^
):
  
app/controllers/api/v1/students_controller.rb:14: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/students_controller.rb:14: syntax error, unexpected '}', expecting '.' or &. or :: or '['
app/controllers/api/v1/students_controller.rb:14: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/students_controller.rb:14: syntax error, unexpected '}', expecting '.' or &. or :: or '['
Started GET "/api/v1/students" for ::1 at 2022-12-11 18:20:44 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 4.0ms | Allocations: 4230)


  
NoMethodError (undefined method `id' for [#<Student id: 1, name: "Maria", cpf: "12378945678", birthdate: nil, payment_method: "credit_card", created_at: "2022-12-10 20:10:31.195305000 +0000", updated_at: "2022-12-10 20:10:31.195305000 +0000">, #<Student id: 2, name: "João", cpf: "12378945679", birthdate: "1988-05-18", payment_method: "boleto", created_at: "2022-12-10 20:11:22.514488000 +0000", updated_at: "2022-12-10 20:11:22.514488000 +0000">, #<Student id: 4, name: "Raissa", cpf: "12378945688", birthdate: "1988-05-18", payment_method: "boleto", created_at: "2022-12-10 21:32:02.978781000 +0000", updated_at: "2022-12-10 21:32:02.978781000 +0000">]:Array):
  
app/controllers/api/v1/students_controller.rb:14:in `index'
Started GET "/api/v1/students" for ::1 at 2022-12-11 18:21:29 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 4.2ms | Allocations: 4073)


  
NoMethodError (undefined method `id' for [#<Student id: 1, name: "Maria", cpf: "12378945678", birthdate: nil, payment_method: "credit_card", created_at: "2022-12-10 20:10:31.195305000 +0000", updated_at: "2022-12-10 20:10:31.195305000 +0000">, #<Student id: 2, name: "João", cpf: "12378945679", birthdate: "1988-05-18", payment_method: "boleto", created_at: "2022-12-10 20:11:22.514488000 +0000", updated_at: "2022-12-10 20:11:22.514488000 +0000">, #<Student id: 4, name: "Raissa", cpf: "12378945688", birthdate: "1988-05-18", payment_method: "boleto", created_at: "2022-12-10 21:32:02.978781000 +0000", updated_at: "2022-12-10 21:32:02.978781000 +0000">]:Array):
  
app/controllers/api/v1/students_controller.rb:14:in `index'
Started GET "/api/v1/students" for ::1 at 2022-12-11 18:21:54 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 3.8ms | Allocations: 3061)


Started GET "/api/v1/students" for ::1 at 2022-12-11 18:23:09 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" /* loading for inspect */ ORDER BY created_at ASC LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.7ms | Allocations: 5612)


  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" /* loading for inspect */ ORDER BY created_at ASC LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `id' for #<ActiveRecord::Relation [#<Student id: 1, name: "Maria", cpf: "12378945678", birthdate: nil, payment_method: "credit_card", created_at: "2022-12-10 20:10:31.195305000 +0000", updated_at: "2022-12-10 20:10:31.195305000 +0000">, #<Student id: 2, name: "João", cpf: "12378945679", birthdate: "1988-05-18", payment_method: "boleto", created_at: "2022-12-10 20:11:22.514488000 +0000", updated_at: "2022-12-10 20:11:22.514488000 +0000">, #<Student id: 4, name: "Raissa", cpf: "12378945688", birthdate: "1988-05-18", payment_method: "boleto", created_at: "2022-12-10 21:32:02.978781000 +0000", updated_at: "2022-12-10 21:32:02.978781000 +0000">, #<Student id: 5, name: "Sara", cpf: "12378945698", birthdate: "1988-02-03", payment_method: "credit_card", created_at: "2022-12-10 22:05:18.711151000 +0000", updated_at: "2022-12-10 22:05:18.711151000 +0000">, #<Student id: 6, name: "José", cpf: "12378945611", birthdate: "1988-02-03", payment_method: "credit_card", created_at: "2022-12-10 23:10:54.910621000 +0000", updated_at: "2022-12-10 23:10:54.910621000 +0000">, #<Student id: 7, name: "Luzia", cpf: "12378945613", birthdate: "1988-02-03", payment_method: "credit_card", created_at: "2022-12-10 23:11:42.886529000 +0000", updated_at: "2022-12-10 23:11:42.886529000 +0000">, #<Student id: 8, name: "Ana", cpf: "12378945614", birthdate: "1988-02-03", payment_method: "boleto", created_at: "2022-12-10 23:26:32.738757000 +0000", updated_at: "2022-12-10 23:26:32.738757000 +0000">, #<Student id: 9, name: "Carlos", cpf: "12378945629", birthdate: "1998-01-18", payment_method: "boleto", created_at: "2022-12-11 01:17:11.542721000 +0000", updated_at: "2022-12-11 01:17:11.542721000 +0000">, #<Student id: 10, name: "Amélia", cpf: "12378945659", birthdate: "1998-01-28", payment_method: "boleto", created_at: "2022-12-11 01:17:54.952141000 +0000", updated_at: "2022-12-11 01:17:54.952141000 +0000">, #<Student id: 11, name: "Jurema", cpf: "12378945228", birthdate: "1988-05-18", payment_method: "credit_card", created_at: "2022-12-11 02:44:39.304619000 +0000", updated_at: "2022-12-11 02:44:39.304619000 +0000">]>
Did you mean?  ids):
  
app/controllers/api/v1/students_controller.rb:10:in `index'
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" /* loading for inspect */ ORDER BY created_at ASC LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/api/v1/students" for ::1 at 2022-12-11 18:23:26 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 2701)


Started GET "/api/v1/students" for ::1 at 2022-12-11 18:24:11 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (1.3ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 2815)


Started GET "/api/v1/students" for ::1 at 2022-12-11 18:24:25 -0300
  
SyntaxError (/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected ',', expecting =>
...Count.push({students[count].id, students[count].name, studen...
...                              ^
/home/raissacardoso/github/backend-test-quero/backend/Bilinho/app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected '}', expecting '.' or &. or :: or '['
...students[count].payment_method})
...                              ^
):
  
app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected '}', expecting '.' or &. or :: or '['
app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/students_controller.rb:10: syntax error, unexpected '}', expecting '.' or &. or :: or '['
Started GET "/api/v1/students" for ::1 at 2022-12-11 18:24:44 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:10:in `index'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 2832)


Started GET "/api/v1/students" for ::1 at 2022-12-11 18:25:32 -0300
Processing by Api::V1::StudentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "student"=>{}}
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/students_controller.rb:11:in `index'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 4.0ms | Allocations: 2899)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:26:42 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:13:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:13:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:13:in `index'
Completed 200 OK in 50ms (Views: 21.7ms | ActiveRecord: 7.7ms | Allocations: 36885)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:29:08 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:11:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:20:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:20:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:20:in `index'
Completed 200 OK in 29ms (Views: 11.8ms | ActiveRecord: 6.9ms | Allocations: 10277)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:30:23 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.6ms | Allocations: 3890)


  
NameError (undefined local variable or method `count' for #<Api::V1::EnrollmentsController:0x00000000057878>):
  
app/controllers/api/v1/enrollments_controller.rb:7:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:31:01 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
Completed 200 OK in 28ms (Views: 10.1ms | ActiveRecord: 6.9ms | Allocations: 10207)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:32:12 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 6.1ms | Allocations: 9835)


  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
  
NoMethodError (undefined method `id' for #<ActiveRecord::Relation [#<Bill id: 174, amount: 1000, due_date: "2022-12-29", status: "open", created_at: "2022-12-10 23:00:33.146029000 +0000", updated_at: "2022-12-10 23:00:33.146029000 +0000", enrollment_id: 58>, #<Bill id: 175, amount: 1000, due_date: "2023-01-29", status: "open", created_at: "2022-12-10 23:00:33.149034000 +0000", updated_at: "2022-12-10 23:00:33.149034000 +0000", enrollment_id: 58>, #<Bill id: 176, amount: 1000, due_date: "2023-02-28", status: "open", created_at: "2022-12-10 23:00:33.152454000 +0000", updated_at: "2022-12-10 23:00:33.152454000 +0000", enrollment_id: 58>]>
Did you mean?  ids):
  
app/controllers/api/v1/enrollments_controller.rb:18:in `index'
  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:33:01 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.5ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:18:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:18:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:18:in `index'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 7.9ms | Allocations: 9140)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/api/v1/enrollments_controller.rb:18:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:33:34 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Completed 500 Internal Server Error in 23ms (ActiveRecord: 5.7ms | Allocations: 9818)


  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
  
NoMethodError (undefined method `id' for #<ActiveRecord::Relation [#<Bill id: 174, amount: 1000, due_date: "2022-12-29", status: "open", created_at: "2022-12-10 23:00:33.146029000 +0000", updated_at: "2022-12-10 23:00:33.146029000 +0000", enrollment_id: 58>, #<Bill id: 175, amount: 1000, due_date: "2023-01-29", status: "open", created_at: "2022-12-10 23:00:33.149034000 +0000", updated_at: "2022-12-10 23:00:33.149034000 +0000", enrollment_id: 58>, #<Bill id: 176, amount: 1000, due_date: "2023-02-28", status: "open", created_at: "2022-12-10 23:00:33.152454000 +0000", updated_at: "2022-12-10 23:00:33.152454000 +0000", enrollment_id: 58>]>
Did you mean?  ids):
  
app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mCACHE Bill Load (0.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:33:47 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 5.1ms | Allocations: 9679)


  [1m[36mCACHE Bill Load (0.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
  
NoMethodError (undefined method `bill_id' for #<ActiveRecord::Relation [#<Bill id: 174, amount: 1000, due_date: "2022-12-29", status: "open", created_at: "2022-12-10 23:00:33.146029000 +0000", updated_at: "2022-12-10 23:00:33.146029000 +0000", enrollment_id: 58>, #<Bill id: 175, amount: 1000, due_date: "2023-01-29", status: "open", created_at: "2022-12-10 23:00:33.149034000 +0000", updated_at: "2022-12-10 23:00:33.149034000 +0000", enrollment_id: 58>, #<Bill id: 176, amount: 1000, due_date: "2023-02-28", status: "open", created_at: "2022-12-10 23:00:33.152454000 +0000", updated_at: "2022-12-10 23:00:33.152454000 +0000", enrollment_id: 58>]>):
  
app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:34:01 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
  [1m[36mBill Load (0.9ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
Completed 200 OK in 28ms (Views: 10.3ms | ActiveRecord: 9.0ms | Allocations: 10207)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:34:17 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.6ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (1.8ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Completed 200 OK in 39ms (Views: 0.8ms | ActiveRecord: 8.6ms | Allocations: 9149)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:34:31 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 6.0ms | Allocations: 8877)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:34:44 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (1.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 8.2ms | Allocations: 9096)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:35:03 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 8.5ms | Allocations: 8818)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:35:32 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 6.8ms | Allocations: 9090)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:35:53 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.8ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (1.4ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.3ms | Allocations: 9812)


  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
  
NoMethodError (undefined method `id' for #<ActiveRecord::Relation [#<Bill id: 174, amount: 1000, due_date: "2022-12-29", status: "open", created_at: "2022-12-10 23:00:33.146029000 +0000", updated_at: "2022-12-10 23:00:33.146029000 +0000", enrollment_id: 58>, #<Bill id: 175, amount: 1000, due_date: "2023-01-29", status: "open", created_at: "2022-12-10 23:00:33.149034000 +0000", updated_at: "2022-12-10 23:00:33.149034000 +0000", enrollment_id: 58>, #<Bill id: 176, amount: 1000, due_date: "2023-02-28", status: "open", created_at: "2022-12-10 23:00:33.152454000 +0000", updated_at: "2022-12-10 23:00:33.152454000 +0000", enrollment_id: 58>]>
Did you mean?  ids):
  
app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mCACHE Bill Load (0.0ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["enrollment_id", 58], ["LIMIT", 11]]
Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:36:05 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.3ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Completed 200 OK in 20ms (Views: 0.5ms | ActiveRecord: 6.8ms | Allocations: 8839)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:36:51 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.7ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.1ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:17:in `index'
Completed 200 OK in 30ms (Views: 0.9ms | ActiveRecord: 12.8ms | Allocations: 9059)


Started GET "/api/v1/enrollments" for ::1 at 2022-12-11 18:37:28 -0300
Processing by Api::V1::EnrollmentsController#index as */*
  Parameters: {"page"=>1, "count"=>3, "enrollment"=>{}}
  [1m[36mEnrollment Load (0.4ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" ORDER BY created_at ASC[0m
  ↳ app/controllers/api/v1/enrollments_controller.rb:10:in `index'
  [1m[36mBill Load (0.3ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 58]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 62]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
  [1m[36mBill Load (0.2ms)[0m  [1m[34mSELECT "bills".* FROM "bills" WHERE "bills"."enrollment_id" = $1[0m  [["enrollment_id", 67]]
  ↳ app/controllers/api/v1/enrollments_controller.rb:21:in `index'
Completed 200 OK in 26ms (Views: 9.2ms | ActiveRecord: 10.5ms | Allocations: 10212)


